(function(f,define){define([],f)})(function(){!function(e,t,n){function r(){}function i(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),r=e.substring(1);return"="===n?"+("+r+")+":":"===n?"+e("+r+")+":";"+e+";o+="}function a(e,t,n){return e+="",t=t||2,n=t-e.length,n?j[t].substring(0,n)+e:e}function o(e){var t=e.css(gt.support.transitions.css+"box-shadow")||e.css("box-shadow"),n=t?t.match(Mt)||[0,0,0,0,0]:[0,0,0,0,0],r=xt.max(+n[3],+(n[4]||0));return{left:-n[1]+r,right:+n[1]+r,bottom:+n[2]+r}}function s(t,n){var r,i,a,s,l,u,d,c,f=wt.browser,h="rtl"==t.css("direction");return t.parent().hasClass("k-animation-container")?(d=t.parent(".k-animation-container"),c=d[0].style,d.is(":hidden")&&d.show(),r=St.test(c.width)||St.test(c.height),r||d.css({width:t.outerWidth(),height:t.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})):(i=o(t),a=t[0].style.width,s=t[0].style.height,l=St.test(a),u=St.test(s),f.opera&&(i.left=i.right=i.bottom=5),r=l||u,!l&&(!n||n&&a)&&(a=t.outerWidth()),!u&&(!n||n&&s)&&(s=t.outerHeight()),t.wrap(e("<div/>").addClass("k-animation-container").css({width:a,height:s,marginLeft:i.left*(h?1:-1),paddingLeft:i.left,paddingRight:i.right,paddingBottom:i.bottom})),r&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),f.msie&&xt.floor(f.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function l(e){var t=1,n=arguments.length;for(t=1;n>t;t++)u(e,arguments[t]);return e}function u(e,t){var n,r,i,a,o,s=gt.data.ObservableArray,l=gt.data.LazyObservableArray,d=gt.data.DataSource,c=gt.data.HierarchicalDataSource;for(n in t)r=t[n],i=typeof r,a=i===Et&&null!==r?r.constructor:null,a&&a!==Array&&a!==s&&a!==l&&a!==d&&a!==c?r instanceof Date?e[n]=new Date(r.getTime()):z(r.clone)?e[n]=r.clone():(o=e[n],e[n]=typeof o===Et?o||{}:{},u(e[n],r)):i!==Pt&&(e[n]=r);return e}function d(e,t,r){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return r!==n?r:e}function c(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})}function f(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function h(t,n){var r,i={};return document.defaultView&&document.defaultView.getComputedStyle?(r=document.defaultView.getComputedStyle(t,""),n&&e.each(n,function(e,t){i[t]=r.getPropertyValue(t)})):(r=t.currentStyle,n&&e.each(n,function(e,t){i[t]=r[f(t)]})),gt.size(i)||(i=r),i}function p(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&n++;return n}function g(e,n,r){n||(n="offset");var i=e[n]();return wt.browser.msie&&(wt.pointers||wt.msPointers)&&!r&&(i.top-=t.pageYOffset-document.documentElement.scrollTop,i.left-=t.pageXOffset-document.documentElement.scrollLeft),i}function m(e){var t={};return vt("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t}function v(e){return new gt.effects.Element(e)}function _(e,t,n,r){return typeof e===Ot&&(z(t)&&(r=t,t=400,n=!1),z(n)&&(r=n,n=!1),typeof t===At&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:r}),mt({effects:{},duration:400,reverse:!1,init:bt,teardown:bt,hide:!1},e,{completeCallback:e.complete,complete:bt})}function y(t,n,r,i,a){for(var o,s=0,l=t.length;l>s;s++)o=e(t[s]),o.queue(function(){B.promise(o,_(n,r,i,a))});return t}function b(e,t,n,r){return t&&(t=t.split(" "),vt(t,function(t,n){e.toggleClass(n,r)})),e}function x(e){return(""+e).replace(U,"&amp;").replace(W,"&lt;").replace(G,"&gt;").replace($,"&quot;").replace(V,"&#39;")}function k(e,t){var r;return 0===t.indexOf("data")&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(nt,"-$1"),r=e.getAttribute("data-"+gt.ns+t),null===r?r=n:"null"===r?r=null:"true"===r?r=!0:"false"===r?r=!1:Ct.test(r)?r=parseFloat(r):et.test(r)&&!tt.test(r)&&(r=Function("return ("+r+")")()),r}function w(t,r){var i,a,o={};for(i in r)a=k(t,i),a!==n&&(K.test(i)&&(a=gt.template(e("#"+a).html())),o[i]=a);return o}function S(t,n){return e.contains(t,n)?-1:1}function T(){var t=e(this);return e.inArray(t.attr("data-"+gt.ns+"role"),["slider","rangeslider"])>-1||t.is(":visible")}function M(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&C(e)}function C(t){return!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function D(e,t){return new D.fn.init(e,t)}var O,z,E,N,A,P,I,H,F,q,R,j,L,B,U,W,$,V,G,J,Y,Q,X,Z,K,et,tt,nt,rt,it,at,ot,st,lt,ut,dt,ct,ft,ht,pt,gt=t.kendo=t.kendo||{cultures:{}},mt=e.extend,vt=e.each,_t=e.isArray,yt=e.proxy,bt=e.noop,xt=Math,kt=t.JSON||{},wt={},St=/%/,Tt=/\{(\d+)(:[^\}]+)?\}/g,Mt=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,Ct=/^(\+|-?)\d+(\.?)\d*$/,Dt="function",Ot="string",zt="number",Et="object",Nt="null",At="boolean",Pt="undefined",It={},Ht={},Ft=[].slice,qt=t.Globalize;gt.version="2014.3.1314",r.extend=function(e){var t,n,r=function(){},i=this,a=e&&e.init?e.init:function(){i.apply(this,arguments)};r.prototype=i.prototype,n=a.fn=a.prototype=new r;for(t in e)n[t]=null!=e[t]&&e[t].constructor===Object?mt(!0,{},r.prototype[t],e[t]):e[t];return n.constructor=a,a.extend=i.extend,a},r.prototype._initOptions=function(e){this.options=l({},this.options,e)},z=gt.isFunction=function(e){return"function"==typeof e},E=function(){this._defaultPrevented=!0},N=function(){return this._defaultPrevented===!0},A=r.extend({init:function(){this._events={}},bind:function(e,t,r){var i,a,o,s,l,u=this,d=typeof e===Ot?[e]:e,c=typeof t===Dt;if(t===n){for(i in e)u.bind(i,e[i]);return u}for(i=0,a=d.length;a>i;i++)e=d[i],s=c?t:t[e],s&&(r&&(o=s,s=function(){u.unbind(e,s),o.apply(u,arguments)},s.original=o),l=u._events[e]=u._events[e]||[],l.push(s));return u},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n,r,i,a,o=this,s=typeof e===Ot?[e]:e,l=typeof t===Dt;for(n=0,r=s.length;r>n;n++)e=s[n],i=l?t:t[e],i&&(a=o._events[e]=o._events[e]||[],a.unshift(i));return o},trigger:function(e,t){var n,r,i=this,a=i._events[e];if(a){for(t=t||{},t.sender=i,t._defaultPrevented=!1,t.preventDefault=E,t.isDefaultPrevented=N,a=a.slice(),n=0,r=a.length;r>n;n++)a[n].call(i,t);return t._defaultPrevented===!0}return!1},unbind:function(e,t){var r,i=this,a=i._events[e];if(e===n)i._events={};else if(a)if(t)for(r=a.length-1;r>=0;r--)(a[r]===t||a[r].original===t)&&a.splice(r,1);else i._events[e]=[];return i}}),P=/^\w+/,I=/\$\{([^}]*)\}/g,H=/\\\}/g,F=/__CURLY__/g,q=/\\#/g,R=/__SHARP__/g,j=["","0","00","000","0000"],O={paramName:"data",useWithBlock:!0,render:function(e,t){var n,r,i="";for(n=0,r=t.length;r>n;n++)i+=e(t[n]);return i},compile:function(e,t){var n,r,a,o=mt({},this,t),s=o.paramName,l=s.match(P)[0],u=o.useWithBlock,d="var o,e=kendo.htmlEncode;";if(z(e))return e;for(d+=u?"with("+s+"){":"",d+="o=",r=e.replace(H,"__CURLY__").replace(I,"#=e($1)#").replace(F,"}").replace(q,"__SHARP__").split("#"),a=0;r.length>a;a++)d+=i(r[a],a%2===0);d+=u?";}":";",d+="return o;",d=d.replace(R,"#");try{return n=Function(l,d),n._slotCount=Math.floor(r.length/2),n}catch(c){throw Error(gt.format("Invalid template:'{0}' Generated code:'{1}'",e,d))}}},function(){function e(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,function(e){var t=s[e];return typeof t===Ot?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function t(a,o){var s,u,d,c,f,h,p=n,g=o[a];if(g&&typeof g===Et&&typeof g.toJSON===Dt&&(g=g.toJSON(a)),typeof i===Dt&&(g=i.call(o,a,g)),h=typeof g,h===Ot)return e(g);if(h===zt)return isFinite(g)?g+"":Nt;if(h===At||h===Nt)return g+"";if(h===Et){if(!g)return Nt;if(n+=r,f=[],"[object Array]"===l.apply(g)){for(c=g.length,s=0;c>s;s++)f[s]=t(s,g)||Nt;return d=0===f.length?"[]":n?"[\n"+n+f.join(",\n"+n)+"\n"+p+"]":"["+f.join(",")+"]",n=p,d}if(i&&typeof i===Et)for(c=i.length,s=0;c>s;s++)typeof i[s]===Ot&&(u=i[s],d=t(u,g),d&&f.push(e(u)+(n?": ":":")+d));else for(u in g)Object.hasOwnProperty.call(g,u)&&(d=t(u,g),d&&f.push(e(u)+(n?": ":":")+d));return d=0===f.length?"{}":n?"{\n"+n+f.join(",\n"+n)+"\n"+p+"}":"{"+f.join(",")+"}",n=p,d}}var n,r,i,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l={}.toString;typeof Date.prototype.toJSON!==Dt&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?a(e.getUTCFullYear(),4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof kt.stringify!==Dt&&(kt.stringify=function(e,a,o){var s;if(n="",r="",typeof o===zt)for(s=0;o>s;s+=1)r+=" ";else typeof o===Ot&&(r=o);if(i=a,a&&typeof a!==Dt&&(typeof a!==Et||typeof a.length!==zt))throw Error("JSON.stringify");return t("",{"":e})})}(),function(){function t(e){if(e){if(e.numberFormat)return e;if(typeof e===Ot){var t=gt.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function r(e){return e&&(e=t(e)),e||gt.cultures.current}function i(e){e.groupSizes=e.groupSize,e.percent.groupSizes=e.percent.groupSize,e.currency.groupSizes=e.currency.groupSize}function o(e,t,i){i=r(i);var o=i.calendars.standard,s=o.days,l=o.months;return t=o.patterns[t]||t,t.replace(d,function(t){var r,i,u;return"d"===t?i=e.getDate():"dd"===t?i=a(e.getDate()):"ddd"===t?i=s.namesAbbr[e.getDay()]:"dddd"===t?i=s.names[e.getDay()]:"M"===t?i=e.getMonth()+1:"MM"===t?i=a(e.getMonth()+1):"MMM"===t?i=l.namesAbbr[e.getMonth()]:"MMMM"===t?i=l.names[e.getMonth()]:"yy"===t?i=a(e.getFullYear()%100):"yyyy"===t?i=a(e.getFullYear(),4):"h"===t?i=e.getHours()%12||12:"hh"===t?i=a(e.getHours()%12||12):"H"===t?i=e.getHours():"HH"===t?i=a(e.getHours()):"m"===t?i=e.getMinutes():"mm"===t?i=a(e.getMinutes()):"s"===t?i=e.getSeconds():"ss"===t?i=a(e.getSeconds()):"f"===t?i=xt.floor(e.getMilliseconds()/100):"ff"===t?(i=e.getMilliseconds(),i>99&&(i=xt.floor(i/10)),i=a(i)):"fff"===t?i=a(e.getMilliseconds(),3):"tt"===t?i=e.getHours()<12?o.AM[0]:o.PM[0]:"zzz"===t?(r=e.getTimezoneOffset(),u=0>r,i=(""+xt.abs(r/60)).split(".")[0],r=xt.abs(r)-60*i,i=(u?"+":"-")+a(i),i+=":"+a(r)):("zz"===t||"z"===t)&&(i=e.getTimezoneOffset()/60,u=0>i,i=(""+xt.abs(i)).split(".")[0],i=(u?"+":"-")+("zz"===t?a(i):i)),i!==n?i:t.slice(1,t.length-1)})}function s(e,t,i){i=r(i);var a,o,s,u,d,b,x,k,w,S,T,M,C,D,O,z,E,N,A,P,I,H,F,q=i.numberFormat,R=q.groupSize[0],j=q[m],L=q[g],B=q.decimals,U=q.pattern[0],W=[],$=0>e,V=p,G=p,J=-1;if(e===n)return p;if(!isFinite(e))return e;if(!t)return i.name.length?e.toLocaleString():""+e;if(d=c.exec(t)){if(t=d[1].toLowerCase(),o="c"===t,s="p"===t,(o||s)&&(q=o?q.currency:q.percent,R=q.groupSize[0],j=q[m],L=q[g],B=q.decimals,a=q.symbol,U=q.pattern[$?0:1]),u=d[2],u&&(B=+u),"e"===t)return u?e.toExponential(B):e.toExponential();if(s&&(e*=100),e=l(e,B),$=0>e,e=e.split(g),b=e[0],x=e[1],$&&(b=b.substring(1)),G=b,k=b.length,k>=R)for(G=p,S=0;k>S;S++)S>0&&(k-S)%R===0&&(G+=j),G+=b.charAt(S);if(x&&(G+=L+x),"n"===t&&!$)return G;for(e=p,S=0,T=U.length;T>S;S++)M=U.charAt(S),e+="n"===M?G:"$"===M||"%"===M?a:M;return e}if($&&(e=-e),(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1)&&(t=t.replace(f,function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return W.push(n),y})),t=t.split(";"),$&&t[1])t=t[1],D=!0;else if(0===e){if(t=t[2]||t[0],-1==t.indexOf(v)&&-1==t.indexOf(_))return t}else t=t[0];if(P=t.indexOf("%"),I=t.indexOf("$"),s=-1!=P,o=-1!=I,s&&(e*=100),o&&"\\"===t[I-1]&&(t=t.split("\\").join(""),o=!1),(o||s)&&(q=o?q.currency:q.percent,R=q.groupSize[0],j=q[m],L=q[g],B=q.decimals,a=q.symbol),C=t.indexOf(m)>-1,C&&(t=t.replace(h,p)),O=t.indexOf(g),T=t.length,-1!=O?(x=(""+e).split("e"),x=x[1]?l(e,Math.abs(x[1])):x[0],x=x.split(g)[1]||p,E=t.lastIndexOf(_)-O,z=t.lastIndexOf(v)-O,N=E>-1,A=z>-1,S=x.length,N||A||(t=t.substring(0,O)+t.substring(O+1),T=t.length,O=-1,S=0),N&&E>z?S=E:z>E&&(A&&S>z?S=z:N&&E>S&&(S=E)),S>-1&&(e=l(e,S))):e=l(e),z=t.indexOf(v),H=E=t.indexOf(_),J=-1==z&&-1!=E?E:-1!=z&&-1==E?z:z>E?E:z,z=t.lastIndexOf(v),E=t.lastIndexOf(_),F=-1==z&&-1!=E?E:-1!=z&&-1==E?z:z>E?z:E,J==T&&(F=J),-1!=J){if(G=(""+e).split(g),b=G[0],x=G[1]||p,k=b.length,w=x.length,$&&-1*e>=0&&($=!1),C)if(k===R&&O-H>k)b=j+b;else if(k>R){for(G=p,S=0;k>S;S++)S>0&&(k-S)%R===0&&(G+=j),G+=b.charAt(S);b=G}for(e=t.substring(0,J),$&&!D&&(e+="-"),S=J;T>S;S++){if(M=t.charAt(S),-1==O){if(k>F-S){e+=b;break}}else if(-1!=E&&S>E&&(V=p),k>=O-S&&O-S>-1&&(e+=b,S=O),O===S){e+=(x?L:p)+x,S+=F-O+1;continue}M===_?(e+=M,V=M):M===v&&(e+=V)}if(F>=J&&(e+=t.substring(F+1)),o||s){for(G=p,S=0,T=e.length;T>S;S++)M=e.charAt(S),G+="$"===M||"%"===M?a:M;e=G}if(T=W.length)for(S=0;T>S;S++)e=e.replace(y,W[S])}return e}var l,u,d=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,c=/^(n|c|p|e)(\d*)$/i,f=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,h=/\,/g,p="",g=".",m=",",v="#",_="0",y="??",b="en-US",x={}.toString;gt.cultures["en-US"]={name:b,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},gt.culture=function(e){var r,a=gt.cultures;return e===n?a.current:(r=t(e)||a[b],r.calendar=r.calendars.standard,a.current=r,qt&&!qt.load&&i(r.numberFormat),n)},gt.findCulture=t,gt.getCulture=r,gt.culture(b),l=function(e,t){return t=t||0,e=(""+e).split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))),e=(""+e).split("e"),e=+(e[0]+"e"+(e[1]?+e[1]-t:-t)),e.toFixed(t)},u=function(e,t,r){if(t){if("[object Date]"===x.call(e))return o(e,t,r);if(typeof e===zt)return s(e,t,r)}return e!==n?e:""},qt&&!qt.load&&(u=function(t,n,r){return e.isPlainObject(r)&&(r=r.name),qt.format(t,n,r)}),gt.format=function(e){var t=arguments;return e.replace(Tt,function(e,n,r){var i=t[parseInt(n,10)+1];return u(i,r?r.substring(1):"")})},gt._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},gt._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},gt._round=l,gt.toString=u}(),function(){function t(e,t,n){return!(e>=t&&n>=e)}function r(e){return e.charAt(0)}function i(t){return e.map(t,r)}function a(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}function o(e){for(var t=0,n=e.length,r=[];n>t;t++)r[t]=(e[t]+"").toLowerCase();return r}function s(e){var t,n={};for(t in e)n[t]=o(e[t]);return n}function l(e,r,o){if(!e)return null;var l,u,d,c,p,g,m,_,y,b,x,k,w,S=function(e){for(var t=0;r[H]===e;)t++,H++;return t>0&&(H-=1),t},T=function(t){var n=v[t]||RegExp("^\\d{1,"+t+"}"),r=e.substr(F,t).match(n);return r?(r=r[0],F+=r.length,parseInt(r,10)):null},M=function(t,n){for(var r,i,a,o=0,s=t.length;s>o;o++)if(r=t[o],i=r.length,a=e.substr(F,i),n&&(a=a.toLowerCase()),a==r)return F+=i,o+1;return null},C=function(){var t=!1;return e.charAt(F)===r[H]&&(F++,t=!0),t},D=o.calendars.standard,O=null,z=null,E=null,N=null,A=null,P=null,I=null,H=0,F=0,q=!1,R=new Date,j=D.twoDigitYearMax||2029,L=R.getFullYear();for(r||(r="d"),c=D.patterns[r],c&&(r=c),r=r.split(""),d=r.length;d>H;H++)if(l=r[H],q)"'"===l?q=!1:C();else if("d"===l){if(u=S("d"),D._lowerDays||(D._lowerDays=s(D.days)),E=3>u?T(2):M(D._lowerDays[3==u?"namesAbbr":"names"],!0),null===E||t(E,1,31))return null}else if("M"===l){if(u=S("M"),D._lowerMonths||(D._lowerMonths=s(D.months)),z=3>u?T(2):M(D._lowerMonths[3==u?"namesAbbr":"names"],!0),null===z||t(z,1,12))return null;z-=1}else if("y"===l){if(u=S("y"),O=T(u),null===O)return null;2==u&&("string"==typeof j&&(j=L+parseInt(j,10)),O=L-L%100+O,O>j&&(O-=100))}else if("h"===l){if(S("h"),N=T(2),12==N&&(N=0),null===N||t(N,0,11))return null}else if("H"===l){if(S("H"),N=T(2),null===N||t(N,0,23))return null}else if("m"===l){if(S("m"),A=T(2),null===A||t(A,0,59))return null}else if("s"===l){if(S("s"),P=T(2),null===P||t(P,0,59))return null}else if("f"===l){if(u=S("f"),w=e.substr(F,u).match(v[3]),I=T(u),null!==I&&(w=w[0].length,3>w&&(I*=Math.pow(10,3-w)),u>3&&(I=parseInt((""+I).substring(0,3),10))),null===I||t(I,0,999))return null}else if("t"===l){if(u=S("t"),_=D.AM,y=D.PM,1===u&&(_=i(_),y=i(y)),p=M(y),!p&&!M(_))return null}else if("z"===l){if(g=!0,u=S("z"),"Z"===e.substr(F,1)){C();continue}if(m=e.substr(F,6).match(u>2?h:f),!m)return null;if(m=m[0].split(":"),b=m[0],x=m[1],!x&&b.length>3&&(F=b.length-2,x=b.substring(F),b=b.substring(0,F)),b=parseInt(b,10),t(b,-12,13))return null;if(u>2&&(x=parseInt(x,10),isNaN(x)||t(x,0,59)))return null}else if("'"===l)q=!0,C();else if(!C())return null;return k=null!==N||null!==A||P||null,null===O&&null===z&&null===E&&k?(O=L,z=R.getMonth(),E=R.getDate()):(null===O&&(O=L),null===E&&(E=1)),p&&12>N&&(N+=12),g?(b&&(N+=-b),x&&(A+=-x),e=new Date(Date.UTC(O,z,E,N,A,P,I))):(e=new Date(O,z,E,N,A,P,I),a(e,N)),100>O&&e.setFullYear(O),e.getDate()!==E&&g===n?null:e}function u(e){var t="-"===e.substr(0,1)?-1:1;return e=e.substring(1),e=60*parseInt(e.substr(0,2),10)+parseInt(e.substring(2),10),t*e}var d=/\u00A0/g,c=/[eE][\-+]?[0-9]+/,f=/[+|\-]\d{1,2}/,h=/[+|\-]\d{1,2}:?\d{2}/,p=/^\/Date\((.*?)\)\/$/,g=/[+-]\d*/,m=["G","g","d","F","D","y","m","T","t"],v={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},_={}.toString;gt.parseDate=function(e,t,n){var r,i,a,o,s;if("[object Date]"===_.call(e))return e;if(r=0,i=null,e&&0===e.indexOf("/D")&&(i=p.exec(e)))return i=i[1],s=g.exec(i.substring(1)),i=new Date(parseInt(i,10)),s&&(s=u(s[0]),i=gt.timezone.apply(i,0),i=gt.timezone.convert(i,0,-1*s)),i;if(n=gt.getCulture(n),!t){for(t=[],o=n.calendar.patterns,a=m.length;a>r;r++)t[r]=o[m[r]];r=0,t=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(t)}for(t=_t(t)?t:[t],a=t.length;a>r;r++)if(i=l(e,t[r],n))return i;return i},gt.parseInt=function(e,t){var n=gt.parseFloat(e,t);return n&&(n=0|n),n},gt.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if(typeof e===zt)return e;e=""+e,t=gt.getCulture(t);var r,i,a=t.numberFormat,o=a.percent,s=a.currency,l=s.symbol,u=o.symbol,f=e.indexOf("-");return c.test(e)?(e=parseFloat(e.replace(a["."],".")),isNaN(e)&&(e=null),e):f>0?null:(f=f>-1,e.indexOf(l)>-1||n&&n.toLowerCase().indexOf("c")>-1?(a=s,r=a.pattern[0].replace("$",l).split("n"),e.indexOf(r[0])>-1&&e.indexOf(r[1])>-1&&(e=e.replace(r[0],"").replace(r[1],""),f=!0)):e.indexOf(u)>-1&&(i=!0,a=o,l=u),e=e.replace("-","").replace(l,"").replace(d," ").split(a[","].replace(d," ")).join("").replace(a["."],"."),e=parseFloat(e),isNaN(e)?e=null:f&&(e*=-1),e&&i&&(e/=100),e)},qt&&!qt.load&&(gt.parseDate=function(e,t,n){return"[object Date]"===_.call(e)?e:qt.parseDate(e,t,n)},gt.parseFloat=function(t,r){return typeof t===zt?t:t===n||null===t?null:(e.isPlainObject(r)&&(r=r.name),t=qt.parseFloat(t,r),isNaN(t)?null:t)})}(),function(){var r,i,a,o,s,l,u;wt._scrollbar=n,wt.scrollbar=function(e){if(isNaN(wt._scrollbar)||e){var t,n=document.createElement("div");return n.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",n.innerHTML="&nbsp;",document.body.appendChild(n),wt._scrollbar=t=n.offsetWidth-n.scrollWidth,document.body.removeChild(n),t}return wt._scrollbar},wt.isRtl=function(t){return e(t).closest(".k-rtl").length>0},r=document.createElement("table");try{r.innerHTML="<tr><td></td></tr>",wt.tbodyInnerHtml=!0}catch(c){wt.tbodyInnerHtml=!1}wt.touch="ontouchstart"in t,wt.msPointers=t.MSPointerEvent,wt.pointers=t.PointerEvent,i=wt.transitions=!1,a=wt.transforms=!1,o="HTMLElement"in t?HTMLElement.prototype:[],wt.hasHW3D="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,vt(["Moz","webkit","O","ms"],function(){var e,t=""+this,o=typeof r.style[t+"Transition"]===Ot;return o||typeof r.style[t+"Transform"]===Ot?(e=t.toLowerCase(),a={css:"ms"!=e?"-"+e+"-":"",prefix:t,event:"o"===e||"webkit"===e?e:""},o&&(i=a,i.event=i.event?i.event+"TransitionEnd":"transitionend"),!1):n}),r=null,wt.transforms=a,wt.transitions=i,wt.devicePixelRatio=t.devicePixelRatio===n?1:t.devicePixelRatio;try{wt.screenWidth=t.outerWidth||t.screen?t.screen.availWidth:t.innerWidth,wt.screenHeight=t.outerHeight||t.screen?t.screen.availHeight:t.innerHeight}catch(c){wt.screenWidth=t.screen.availWidth,wt.screenHeight=t.screen.availHeight}wt.detectOS=function(e){var n,r,i=!1,a=[],o=!/mobile safari/i.test(e),s={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},l={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},u={tablet:/playbook|ipad|fire/i},c={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(r in s)if(s.hasOwnProperty(r)&&(a=e.match(s[r]))){if("windows"==r&&"plugins"in navigator)return!1;i={},i.device=r,i.tablet=d(r,u,!1),i.browser=d(e,c,"default"),i.name=d(r,l),i[i.name]=!0,i.majorVersion=a[2],i.minorVersion=a[3].replace("_","."),n=i.minorVersion.replace(".","").substr(0,2),i.flatVersion=i.majorVersion+n+Array(3-(3>n.length?n.length:2)).join("0"),i.cordova=typeof t.PhoneGap!==Pt||typeof t.cordova!==Pt,i.appMode=t.navigator.standalone||/file|local|wmapp/.test(t.location.protocol)||i.cordova,i.android&&(1.5>wt.devicePixelRatio&&400>i.flatVersion||o)&&(wt.screenWidth>800||wt.screenHeight>800)&&(i.tablet=r);break}return i},s=wt.mobileOS=wt.detectOS(navigator.userAgent),wt.wpDevicePixelRatio=s.wp?screen.width/320:0,wt.kineticScrollNeeded=s&&(wt.touch||wt.msPointers||wt.pointers),wt.hasNativeScrolling=!1,(s.ios||s.android&&s.majorVersion>2||s.wp)&&(wt.hasNativeScrolling=s),wt.mouseAndTouchPresent=wt.touch&&!(wt.mobileOS.ios||wt.mobileOS.android),wt.detectBrowser=function(e){var t,n=!1,r=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(t in i)if(i.hasOwnProperty(t)&&(r=e.match(i[t]))){n={},n[t]=!0,n[r[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||r[2],10);break}return n},wt.browser=wt.detectBrowser(navigator.userAgent),wt.zoomLevel=function(){try{return wt.touch?document.documentElement.clientWidth/t.innerWidth:wt.browser.msie&&wt.browser.version>=10?(top||t).document.documentElement.offsetWidth/(top||t).innerWidth:1}catch(e){return 1}},wt.cssBorderSpacing=n!==document.documentElement.style.borderSpacing&&!(wt.browser.msie&&8>wt.browser.version),function(t){var n="",r=e(document.documentElement),i=parseInt(t.version,10);t.msie?n="ie":t.mozilla?n="ff":t.safari?n="safari":t.webkit?n="webkit":t.opera&&(n="opera"),n&&(n="k-"+n+" k-"+n+i),wt.mobileOS&&(n+=" k-mobile"),r.addClass(n)}(wt.browser),wt.eventCapture=document.documentElement.addEventListener,l=document.createElement("input"),wt.placeholder="placeholder"in l,wt.propertyChangeEvent="onpropertychange"in l,wt.input=function(){for(var e,t=["number","date","time","month","week","datetime","datetime-local"],n=t.length,r="test",i={},a=0;n>a;a++)e=t[a],l.setAttribute("type",e),l.value=r,i[e.replace("-","")]="text"!==l.type&&l.value!==r;return i}(),l.style.cssText="float:left;",wt.cssFloat=!!l.style.cssFloat,l=null,wt.stableSort=function(){var e,t=513,n=[{index:0,field:"b"}];for(e=1;t>e;e++)n.push({index:e,field:"a"});return n.sort(function(e,t){return e.field>t.field?1:t.field>e.field?-1:0}),1===n[0].index}(),wt.matchesSelector=o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.matchesSelector||o.matches||function(t){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),r=n.length;r--;)if(n[r]==this)return!0;return!1},wt.pushState=t.history&&t.history.pushState,u=document.documentMode,wt.hashChange="onhashchange"in t&&!(wt.browser.msie&&(!u||8>=u))}(),L={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},B={},e.extend(B,{enabled:!0,Element:function(t){this.element=e(t)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),B.promiseShim=B.promise,"kendoAnimate"in e.fn||mt(e.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,r){return y(this,e,t,n,r)},kendoAddClass:function(e,t){return gt.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return gt.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,n){return gt.toggleClass(this,e,t,n)}}),U=/&/g,W=/</g,$=/"/g,V=/'/g,G=/>/g,J=function(e){return e.target},wt.touch&&(J=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},vt(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,n){e.fn[n]=function(e){return this.bind(n,e)}})),wt.touch?wt.mobileOS?(wt.mousedown="touchstart",wt.mouseup="touchend",wt.mousemove="touchmove",wt.mousecancel="touchcancel",wt.click="touchend",wt.resize="orientationchange"):(wt.mousedown="mousedown touchstart",wt.mouseup="mouseup touchend",wt.mousemove="mousemove touchmove",wt.mousecancel="mouseleave touchcancel",wt.click="click",wt.resize="resize"):wt.pointers?(wt.mousemove="pointermove",wt.mousedown="pointerdown",wt.mouseup="pointerup",wt.mousecancel="pointercancel",wt.click="pointerup",wt.resize="orientationchange resize"):wt.msPointers?(wt.mousemove="MSPointerMove",wt.mousedown="MSPointerDown",wt.mouseup="MSPointerUp",wt.mousecancel="MSPointerCancel",wt.click="MSPointerUp",wt.resize="orientationchange resize"):(wt.mousemove="mousemove",wt.mousedown="mousedown",wt.mouseup="mouseup",wt.mousecancel="mouseleave",wt.click="click",wt.resize="resize"),Y=function(e,t){var n,r,i,a,o=t||"d",s=1;for(r=0,i=e.length;i>r;r++)a=e[r],""!==a&&(n=a.indexOf("["),0!==n&&(-1==n?a="."+a:(s++,a="."+a.substring(0,n)+" || {})"+a.substring(n))),s++,o+=a+(i-1>r?" || {})":")"));return Array(s).join("(")+o},Q=/^([a-z]+:)?\/\//i,mt(gt,{ui:gt.ui||{},fx:gt.fx||v,effects:gt.effects||B,mobile:gt.mobile||{},data:gt.data||{},dataviz:gt.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:gt.support||wt,animate:gt.animate||y,ns:"",attr:function(e){return"data-"+gt.ns+e},getShadows:o,wrap:s,deepExtend:l,getComputedStyles:h,size:p,toCamelCase:f,toHyphens:c,getOffset:gt.getOffset||g,parseEffects:gt.parseEffects||m,toggleClass:gt.toggleClass||b,directions:gt.directions||L,Observable:A,Class:r,Template:O,template:yt(O.compile,O),render:yt(O.render,O),stringify:yt(kt.stringify,kt),eventTarget:J,htmlEncode:x,isLocalUrl:function(e){return e&&!Q.test(e)},expr:function(e,t,n){return e=e||"",typeof t==Ot&&(n=t,t=!1),n=n||"d",e&&"["!==e.charAt(0)&&(e="."+e),e=t?Y(e.split("."),n):n+e},getter:function(e,t){var n=e+t;return It[n]=It[n]||Function("d","return "+gt.expr(e,t))},setter:function(e){return Ht[e]=Ht[e]||Function("d,value",gt.expr(e)+"=value")},accessor:function(e){return{get:gt.getter(e),set:gt.setter(e)}},guid:function(){var e,t,n="";for(e=0;32>e;e++)t=16*xt.random()|0,(8==e||12==e||16==e||20==e)&&(n+="-"),n+=(12==e?4:16==e?3&t|8:t).toString(16);return n},roleSelector:function(e){return e.replace(/(\S+)/g,"["+gt.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(e){var t,n=e.split(" ");if(n)for(t=0;n.length>t;t++)"view"!=n[t]&&(n[t]=n[t].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return n.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},logToConsole:function(e){var r=t.console;!gt.suppressLog&&n!==r&&r.log&&r.log(e)}}),X=A.extend({init:function(e,t){var n,r=this;r.element=gt.jQuery(e).handler(r),r.angular("init",t),A.fn.init.call(r),n=t?t.dataSource:null,n&&(t=mt({},t,{dataSource:{}})),t=r.options=mt(!0,{},r.options,t),n&&(t.dataSource=n),r.element.attr(gt.attr("role"))||r.element.attr(gt.attr("role"),(t.name||"").toLowerCase()),r.element.data("kendo"+t.prefix+t.name,r),r.bind(r.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,n="tabindex",r=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(r)?0:r)},setOptions:function(t){this._setEvents(t),e.extend(this.options,t)},_setEvents:function(e){for(var t,n=this,r=0,i=n.events.length;i>r;r++)t=n.events[r],n.options[t]&&e[t]&&n.unbind(t,n.options[t]);n.bind(n.events,e)},resize:function(e){var t=this.getSize(),n=this._size;(e||!n||t.width!==n.width||t.height!==n.height)&&(this._size=t,this._resize(t),this.trigger("resize",t))},getSize:function(){return gt.dimensions(this.element)},size:function(e){return e?(this.setSize(e),n):this.getSize()},setSize:e.noop,_resize:e.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()},angular:function(){}}),Z=X.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(t){var n=this;n.angular(t,function(){return{elements:n.items(),data:e.map(n.dataItems(),function(e){return{dataItem:e}})}})}}),gt.dimensions=function(e,t){var n=e[0];return t&&e.css(t),{width:n.offsetWidth,height:n.offsetHeight}},gt.notify=bt,K=/template$/i,et=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,tt=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,nt=/([A-Z])/g,gt.initWidget=function(r,i,a){var o,s,l,u,d,c,f,h,p,g,m,v,_;if(a?a.roles&&(a=a.roles):a=gt.ui.roles,r=r.nodeType?r:r[0],c=r.getAttribute("data-"+gt.ns+"role")){p=-1===c.indexOf("."),l=p?a[c]:gt.getter(c)(t),m=e(r).data(),v=l?"kendo"+l.fn.options.prefix+l.fn.options.name:"",g=p?RegExp("^kendo.*"+c+"$","i"):RegExp("^"+v+"$","i");
for(_ in m)if(_.match(g)){if(_!==v)return m[_];o=m[_]}if(l){for(h=k(r,"dataSource"),i=e.extend({},w(r,l.fn.options),i),h&&(i.dataSource=typeof h===Ot?gt.getter(h)(t):h),u=0,d=l.fn.events.length;d>u;u++)s=l.fn.events[u],f=k(r,s),f!==n&&(i[s]=gt.getter(f)(t));return o?e.isEmptyObject(i)||o.setOptions(i):o=new l(r,i),o}}},gt.rolesFromNamespaces=function(e){var t,n,r=[];for(e[0]||(e=[gt.ui,gt.dataviz.ui]),t=0,n=e.length;n>t;t++)r[t]=e[t].roles;return mt.apply(null,[{}].concat(r.reverse()))},gt.init=function(t){var n=gt.rolesFromNamespaces(Ft.call(arguments,1));e(t).find("[data-"+gt.ns+"role]").addBack().each(function(){gt.initWidget(this,{},n)})},gt.destroy=function(t){e(t).find("[data-"+gt.ns+"role]").addBack().each(function(){var t,n=e(this).data();for(t in n)0===t.indexOf("kendo")&&typeof n[t].destroy===Dt&&n[t].destroy()})},gt.resize=function(t,n){var r,i=e(t).find("[data-"+gt.ns+"role]").addBack().filter(T);i.length&&(r=e.makeArray(i),r.sort(S),e.each(r,function(){var t=gt.widgetInstance(e(this));t&&t.resize(n)}))},gt.parseOptions=w,mt(gt.ui,{Widget:X,DataBoundWidget:Z,roles:{},progress:function(t,n){var r,i,a,o,s=t.find(".k-loading-mask"),l=gt.support,u=l.browser;n?s.length||(r=l.isRtl(t),i=r?"right":"left",o=t.scrollLeft(),a=u.webkit&&r?t[0].scrollWidth-t.width()-2*o:0,s=e("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",t.scrollTop()).css(i,Math.abs(o)+a).prependTo(t)):s&&s.remove()},plugin:function(t,r,i){var a,o=t.fn.options.name;r=r||gt.ui,i=i||"",r[o]=t,r.roles[o.toLowerCase()]=t,a="getKendo"+i+o,o="kendo"+i+o,e.fn[o]=function(r){var i,a=this;return typeof r===Ot?(i=Ft.call(arguments,1),this.each(function(){var t,s,l=e.data(this,o);if(!l)throw Error(gt.format("Cannot call method '{0}' of {1} before it is initialized",r,o));if(t=l[r],typeof t!==Dt)throw Error(gt.format("Cannot find method '{0}' of {1}",r,o));return s=t.apply(l,i),s!==n?(a=s,!1):n})):this.each(function(){new t(this,r)}),a},e.fn[o].widget=t,e.fn[a]=function(){return this.data(o)}}}),rt={bind:function(){return this},nullObject:!0,options:{}},it=X.extend({init:function(e,t){X.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){X.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(gt.roleSelector("view splitview modalview drawer"));return gt.widgetInstance(e,gt.mobile.ui)||rt},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(gt.roleSelector("view layout modalview drawer splitview"));return gt.widgetInstance(e.eq(0),gt.mobile.ui)||rt}}),mt(gt.mobile,{init:function(e){gt.init(e,gt.mobile.ui,gt.ui,gt.dataviz.ui)},appLevelNativeScrolling:function(){return gt.mobile.application&&gt.mobile.application.options&&gt.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:it,DataBoundWidget:Z.extend(it.prototype),roles:{},plugin:function(e){gt.ui.plugin(e,gt.mobile.ui,"Mobile")}}}),l(gt.dataviz,{init:function(e){gt.init(e,gt.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(e){gt.ui.plugin(e,gt.dataviz.ui)}},roles:{}}),gt.touchScroller=function(t,n){return e(t).map(function(t,r){return r=e(r),wt.kineticScrollNeeded&&gt.mobile.ui.Scroller&&!r.data("kendoMobileScroller")?(r.kendoMobileScroller(n),r.data("kendoMobileScroller")):!1})[0]},gt.preventDefault=function(e){e.preventDefault()},gt.widgetInstance=function(e,n){var r,i,a,o,s=e.data(gt.ns+"role"),l=[];if(s){if("content"===s&&(s="scroller"),n)if(n[0])for(r=0,i=n.length;i>r;r++)l.push(n[r].roles[s]);else l.push(n.roles[s]);else l=[gt.ui.roles[s],gt.dataviz.ui.roles[s],gt.mobile.ui.roles[s]];for(s.indexOf(".")>=0&&(l=[gt.getter(s)(t)]),r=0,i=l.length;i>r;r++)if(a=l[r],a&&(o=e.data("kendo"+a.fn.options.prefix+a.fn.options.name)))return o}},gt.onResize=function(n){var r=n;return wt.mobileOS.android&&(r=function(){setTimeout(n,600)}),e(t).on(wt.resize,r),r},gt.unbindResize=function(n){e(t).off(wt.resize,n)},gt.attrValue=function(e,t){return e.data(gt.ns+t)},gt.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr[":"],{kendoFocusable:function(t){var n=e.attr(t,"tabindex");return M(t,!isNaN(n)&&n>-1)}}),at=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],ot="label, input, [data-rel=external]",st={setupMouseMute:function(){var t,n=0,r=at.length,i=document.documentElement;if(!st.mouseTrap&&wt.eventCapture)for(st.mouseTrap=!0,st.bustClick=!1,st.captureMouse=!1,t=function(t){st.captureMouse&&("click"===t.type?st.bustClick&&!e(t.target).is(ot)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};r>n;n++)i.addEventListener(at[n],t,!0)},muteMouse:function(e){st.captureMouse=!0,e.data.bustClick&&(st.bustClick=!0),clearTimeout(st.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(st.mouseTrapTimeoutID),st.mouseTrapTimeoutID=setTimeout(function(){st.captureMouse=!1,st.bustClick=!1},400)}},lt={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},wt.touch&&(wt.mobileOS.ios||wt.mobileOS.android)?lt={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:wt.pointers?lt={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:wt.msPointers&&(lt={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!wt.msPointers||"onmspointerenter"in t||e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var r,i=this,a=t.relatedTarget,o=t.handleObj;return(!a||a!==i&&!e.contains(i,a))&&(t.type=o.origType,r=o.handler.apply(this,arguments),t.type=n),r}}}),ut=function(e){return lt[e]||e},dt=/([^ ]+)/g,gt.applyEventMap=function(e,t){return e=e.replace(dt,ut),t&&(e=e.replace(dt,"$1."+t)),e},ct=e.fn.on,mt(!0,D,e),D.fn=D.prototype=new e,D.fn.constructor=D,D.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof D)&&(n=D(n)),e.fn.init.call(this,t,n,ft)},D.fn.init.prototype=D.fn,ft=D(document),mt(D.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||gt.guid()),this},on:function(){var e,t,n,r,i,a,o=this,s=o.data("kendoNS");return 1===arguments.length?ct.call(o,arguments[0]):(e=o,t=Ft.call(arguments),typeof t[t.length-1]===Pt&&t.pop(),n=t[t.length-1],r=gt.applyEventMap(t[0],s),wt.mouseAndTouchPresent&&r.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(st.setupMouseMute(),i=2===t.length?null:t[1],a=r.indexOf("click")>-1&&r.indexOf("touchend")>-1,ct.call(this,{touchstart:st.muteMouse,touchend:st.unMuteMouse},i,{bustClick:a})),typeof n===Ot&&(e=o.data("handler"),n=e[n],t[t.length-1]=function(t){n.call(e,t)}),t[0]=r,ct.apply(o,t),o)},kendoDestroy:function(e){return e=e||this.data("kendoNS"),e&&this.off("."+e),this}}),gt.jQuery=D,gt.eventMap=lt,gt.timezone=function(){function e(e,t){var n,r,i,a=t[3],o=t[4],s=t[5],l=t[8];return l||(t[8]=l={}),l[e]?l[e]:(isNaN(o)?0===o.indexOf("last")?(n=new Date(Date.UTC(e,d[a]+1,1,s[0]-24,s[1],s[2],0)),r=c[o.substr(4,3)],i=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+r-i-(r>i?7:0))):o.indexOf(">=")>=0&&(n=new Date(Date.UTC(e,d[a],o.substr(5),s[0],s[1],s[2],0)),r=c[o.substr(0,3)],i=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+r-i+(i>r?7:0))):n=new Date(Date.UTC(e,d[a],o,s[0],s[1],s[2],0)),l[e]=n)}function t(t,n,r){var i,a,o,s;return(n=n[r])?(o=new Date(t).getUTCFullYear(),n=jQuery.grep(n,function(e){var t=e[0],n=e[1];return o>=t&&(n>=o||t==o&&"only"==n||"max"==n)}),n.push(t),n.sort(function(t,n){return"number"!=typeof t&&(t=+e(o,t)),"number"!=typeof n&&(n=+e(o,n)),t-n}),s=n[jQuery.inArray(t,n)-1]||n[n.length-1],isNaN(s)?s:null):(i=r.split(":"),a=0,i.length>1&&(a=60*i[0]+ +i[1]),[-1e6,"max","-","Jan",1,[0,0,0],a,"-"])}function n(e,t,n){var r,i,a,o=t[n];if("string"==typeof o&&(o=t[o]),!o)throw Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(r=o.length-1;r>=0&&(i=o[r][3],!(i&&e>i));r--);if(a=o[r+1],!a)throw Error('Timezone "'+n+'" not found on '+e+".");return a}function r(e,r,i,a){typeof e!=zt&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var o=n(e,r,a);return{zone:o,rule:t(e,i,o[1])}}function i(e,t){var n,i,a;return"Etc/UTC"==t||"Etc/GMT"==t?0:(n=r(e,this.zones,this.rules,t),i=n.zone,a=n.rule,gt.parseFloat(a?i[0]-a[6]:i[0]))}function a(e,t){var n=r(e,this.zones,this.rules,t),i=n.zone,a=n.rule,o=i[2];return o.indexOf("/")>=0?o.split("/")[a&&+a[6]?1:0]:o.indexOf("%s")>=0?o.replace("%s",a&&"-"!=a[7]?a[7]:""):o}function o(e,t,n){var r,i;return typeof t==Ot&&(t=this.offset(e,t)),typeof n==Ot&&(n=this.offset(e,n)),r=e.getTimezoneOffset(),e=new Date(e.getTime()+6e4*(t-n)),i=e.getTimezoneOffset(),new Date(e.getTime()+6e4*(i-r))}function s(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function l(e,t){return this.convert(e,t,e.getTimezoneOffset())}function u(e){return this.apply(new Date(e),"Etc/UTC")}var d={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},c={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:i,convert:o,apply:s,remove:l,abbr:a,toLocalDate:u}}(),gt.date=function(){function e(e,t){return 0===t&&23===e.getHours()?(e.setHours(e.getHours()+2),!0):!1}function t(t,n,r){var i=t.getHours();r=r||1,n=(n-t.getDay()+7*r)%7,t.setDate(t.getDate()+n),e(t,i)}function n(e,n,r){return e=new Date(e),t(e,n,r),e}function r(e){return new Date(e.getFullYear(),e.getMonth(),1)}function i(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=r(e),i=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return i&&t.setHours(n.getHours()+i/60),t}function a(t){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),e(t,0),t}function o(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function s(e){return e.getTime()-a(e)}function l(e,t,n){var r,i=s(t),a=s(n);return e&&i!=a?(t>=n&&(n+=m),r=s(e),i>r&&(r+=m),i>a&&(a+=m),r>=i&&a>=r):!0}function u(e,t,n){var r,i=t.getTime(),a=n.getTime();return i>=a&&(a+=m),r=e.getTime(),r>=i&&a>=r}function d(t,n){var r=t.getHours();return t=new Date(t),c(t,n*m),e(t,r),t}function c(e,t,n){var r,i=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(r=e.getTimezoneOffset()-i,e.setTime(e.getTime()+r*g))}function f(){return a(new Date)}function h(e){return a(e).getTime()==f().getTime()}function p(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}var g=6e4,m=864e5;return{adjustDST:e,dayOfWeek:n,setDayOfWeek:t,getDate:a,isInDateRange:u,isInTimeRange:l,isToday:h,nextDay:function(e){return d(e,1)},previousDay:function(e){return d(e,-1)},toUtcTime:o,MS_PER_DAY:m,MS_PER_HOUR:60*g,MS_PER_MINUTE:g,setTime:c,addDays:d,today:f,toInvariantTime:p,firstDayOfMonth:r,lastDayOfMonth:i,getMilliseconds:s}}(),gt.stripWhitespace=function(e){var t,n,r;if(document.createNodeIterator)for(t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode);else for(n=0;e.childNodes.length>n;n++)r=e.childNodes[n],3!=r.nodeType||/\S/.test(r.nodeValue)||(e.removeChild(r),n--),1==r.nodeType&&gt.stripWhitespace(r)},ht=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},gt.animationFrame=function(e){ht.call(t,e)},pt=[],gt.queueAnimation=function(e){pt[pt.length]=e,1===pt.length&&gt.runNextAnimation()},gt.runNextAnimation=function(){gt.animationFrame(function(){pt[0]&&(pt.shift()(),pt[0]&&gt.runNextAnimation())})},gt.parseQueryStringParams=function(e){for(var t=e.split("?")[1]||"",n={},r=t.split(/&|=/),i=r.length,a=0;i>a;a+=2)""!==r[a]&&(n[decodeURIComponent(r[a])]=decodeURIComponent(r[a+1]));return n},gt.elementUnderCursor=function(e){return document.elementFromPoint(e.x.client,e.y.client)},gt.wheelDeltaY=function(e){var t,r=e.originalEvent,i=r.wheelDeltaY;return r.wheelDelta?(i===n||i)&&(t=r.wheelDelta):r.detail&&r.axis===r.VERTICAL_AXIS&&(t=10*-r.detail),t},gt.throttle=function(e,t){var r,i,a=0;return!t||0>=t?e:(i=function(){function i(){e.apply(o,l),a=+new Date}var o=this,s=+new Date-a,l=arguments;return a?(r&&clearTimeout(r),s>t?i():r=setTimeout(i,t-s),n):i()},i.cancel=function(){clearTimeout(r)},i)},gt.caret=function(t,r,i){var a,o,s,l,u=r!==n;if(i===n&&(i=r),t[0]&&(t=t[0]),!u||!t.disabled){try{t.selectionStart!==n?u?(t.focus(),t.setSelectionRange(r,i)):r=[t.selectionStart,t.selectionEnd]:document.selection&&(e(t).is(":visible")&&t.focus(),a=t.createTextRange(),u?(a.collapse(!0),a.moveStart("character",r),a.moveEnd("character",i-r),a.select()):(o=a.duplicate(),a.moveToBookmark(document.selection.createRange().getBookmark()),o.setEndPoint("EndToStart",a),s=o.text.length,l=s+a.text.length,r=[s,l]))}catch(d){r=[]}return r}},gt.compileMobileDirective=function(e,n){var r=t.angular;return e.attr("data-"+gt.ns+"role",e[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),r.element(e).injector().invoke(["$compile",function(t){var i=r.element(e).scope();n&&n(i),t(e)(i),/^\$(digest|apply)$/.test(i.$$phase)||i.$digest()}]),gt.widgetInstance(e,gt.mobile.ui)},gt.antiForgeryTokens=function(){var t={},r=e("meta[name=csrf-token]").attr("content"),i=e("meta[name=csrf-param]").attr("content");return e("input[name^='__RequestVerificationToken']").each(function(){t[this.name]=this.value}),i!==n&&r!==n&&(t[i]=r),t},function(){function n(t,n,r){var i,a,o=e("<form>").attr({action:r,method:"POST"}),s=gt.antiForgeryTokens();s.fileName=n,i=t.split(";base64,"),s.contentType=i[0].replace("data:",""),s.base64=i[1];for(a in s)s.hasOwnProperty(a)&&e("<input>").attr({value:s[a],name:a,type:"hidden"}).appendTo(o);o.appendTo("body").submit().remove()}function r(e,t){var n,r,i,a,o,s=e;if("string"==typeof e){for(n=e.split(";base64,"),r=n[0],i=atob(n[1]),a=new Uint8Array(i.length),o=0;i.length>o;o++)a[o]=i.charCodeAt(o);s=new Blob([a.buffer],{type:r})}navigator.msSaveBlob(s,t)}function i(e,n){t.Blob&&e instanceof Blob&&(e=URL.createObjectURL(e)),a.download=n,a.href=e;var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(r)}var a=document.createElement("a"),o="download"in a;gt.saveAs=function(e){var t=n;e.forceProxy||(o?t=i:navigator.msSaveBlob&&(t=r)),t(e.dataURI,e.fileName,e.proxyURL)}}()}(jQuery,window),function(e,t){function n(r,a){var l,u,d,c,f,h,p,g,m=[],v=r.logic||"and",_=r.filters;for(l=0,u=_.length;u>l;l++)r=_[l],d=r.field,p=r.value,h=r.operator,r.filters?r=n(r,a):(g=r.ignoreCase,d=d.replace(/\./g,"/"),r=o[h],a&&(r=s[h]),r&&p!==t&&(c=e.type(p),"string"===c?(f="'{1}'",p=p.replace(/'/g,"''"),g===!0&&(d="tolower("+d+")")):f="date"===c?a?"{1:yyyy-MM-ddTHH:mm:ss+00:00}":"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",r.length>3?"substringof"!==r?f="{0}({2},"+f+")":(f="{0}("+f+",{2})","doesnotcontain"===h&&(a?(f="{0}({2},'{1}') eq -1",r="indexof"):f+=" eq false")):f="{2} {0} "+f,r=i.format(f,r,p,d))),m.push(r);return r=m.join(" "+v+" "),m.length>1&&(r="("+r+")"),r}function r(e){for(var t in e)0===t.indexOf("@odata")&&delete e[t]}var i=window.kendo,a=e.extend,o={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},s=a({},o,{contains:"contains"}),l={pageSize:e.noop,page:e.noop,filter:function(e,t,r){t&&(e.$filter=n(t,r))},sort:function(t,n){var r=e.map(n,function(e){var t=e.field.replace(/\./g,"/");return"desc"===e.dir&&(t+=" desc"),t}).join(",");r&&(t.$orderby=r)},skip:function(e,t){t&&(e.$skip=t)},take:function(e,t){t&&(e.$top=t)}},u={read:{dataType:"jsonp"}};a(!0,i.data,{schemas:{odata:{type:"json",data:function(e){return e.d.results||[e.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,t,n){var r,a,o,s;if(e=e||{},t=t||"read",s=(this.options||u)[t],s=s?s.dataType:"json","read"===t){r={$inlinecount:"allpages"},"json"!=s&&(r.$format="json");for(o in e)l[o]?l[o](r,e[o],n):r[o]=e[o]}else{if("json"!==s)throw Error("Only json dataType can be used for "+t+" operation.");if("destroy"!==t){for(o in e)a=e[o],"number"==typeof a&&(e[o]=a+"");r=i.stringify(e)}}return r}}}}),a(!0,i.data,{schemas:{"odata-v4":{type:"json",data:function(t){return t=e.extend({},t),r(t),t.value?t.value:[t]},total:function(e){return e["@odata.count"]}}},transports:{"odata-v4":{read:{cache:!0,dataType:"json"},update:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,t){var n=i.data.transports.odata.parameterMap(e,t,!0);return"read"==t&&(n.$count=!0,delete n.$inlinecount),n}}}})}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=e.isArray,i=e.isPlainObject,a=e.map,o=e.each,s=e.extend,l=n.getter,u=n.Class,d=u.extend({init:function(e){var t,l,u,d,c=this,f=e.total,h=e.model,p=e.parse,g=e.errors,m=e.serialize,v=e.data;h&&(i(h)&&(t=e.modelBase||n.data.Model,h.fields&&o(h.fields,function(e,t){t=i(t)&&t.field?s(t,{field:c.getter(t.field)}):{field:c.getter(t)},h.fields[e]=t}),l=h.id,l&&(u={},u[c.xpathToMember(l,!0)]={field:c.getter(l)},h.fields=s(u,h.fields),h.id=c.xpathToMember(l)),h=t.define(h)),c.model=h),f&&("string"==typeof f?(f=c.getter(f),c.total=function(e){return parseInt(f(e),10)}):"function"==typeof f&&(c.total=f)),g&&("string"==typeof g?(g=c.getter(g),c.errors=function(e){return g(e)||null}):"function"==typeof g&&(c.errors=g)),v&&("string"==typeof v?(v=c.xpathToMember(v),c.data=function(e){var t,n=c.evaluate(e,v);return n=r(n)?n:[n],c.model&&h.fields?(t=new c.model,a(n,function(e){if(e){var n,r={};for(n in h.fields)r[n]=t._parse(n,h.fields[n].field(e));return r}})):n}):"function"==typeof v&&(c.data=v)),"function"==typeof p&&(d=c.parse,c.parse=function(e){var t=p.call(c,e);return d.call(c,t)}),"function"==typeof m&&(c.serialize=m)},total:function(e){return this.data(e).length},errors:function(e){return e?e.errors:null},serialize:function(e){return e},parseDOM:function(e){var n,i,a,o,s,l,u,d={},c=e.attributes,f=c.length;for(u=0;f>u;u++)l=c[u],d["@"+l.nodeName]=l.nodeValue;for(i=e.firstChild;i;i=i.nextSibling)a=i.nodeType,3===a||4===a?d["#text"]=i.nodeValue:1===a&&(n=this.parseDOM(i),o=i.nodeName,s=d[o],r(s)?s.push(n):s=s!==t?[s,n]:n,d[o]=s);return d},evaluate:function(e,t){for(var n,i,a,o,s,l=t.split(".");n=l.shift();)if(e=e[n],r(e)){for(i=[],t=l.join("."),s=0,a=e.length;a>s;s++)o=this.evaluate(e[s],t),o=r(o)?o:[o],i.push.apply(i,o);return i}return e},parse:function(t){var n,r,i={};return n=t.documentElement||e.parseXML(t).documentElement,r=this.parseDOM(n),i[n.nodeName]=r,i},xpathToMember:function(e,t){return e?(e=e.replace(/^\//,"").replace(/\//g,"."),e.indexOf("@")>=0?e.replace(/\.?(@.*)/,t?"$1":'["$1"]'):e.indexOf("text()")>=0?e.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):e):""},getter:function(e){return l(this.xpathToMember(e),!0)}});e.extend(!0,n.data,{XmlDataReader:d,readers:{xml:d}})}(window.kendo.jQuery),function(e,t){function n(e,t,n,r){return function(i){var a,o={};for(a in i)o[a]=i[a];o.field=r?n+"."+i.field:n,t==bt&&e._notifyChange&&e._notifyChange(o),e.trigger(t,o)}}function r(t,n){if(t===n)return!0;var i,a=e.type(t),o=e.type(n);if(a!==o)return!1;if("date"===a)return t.getTime()===n.getTime();if("object"!==a&&"array"!==a)return!1;for(i in t)if(!r(t[i],n[i]))return!1;return!0}function i(e,t){var n,r;for(r in e){if(n=e[r],rt(n)&&n.field&&n.field===t)return n;if(n===t)return n}return null}function a(e){this.data=e||[]}function o(e,n){if(e){var r=typeof e===pt?{field:e,dir:n}:e,i=at(r)?r:r!==t?[r]:[];return ot(i,function(e){return!!e.dir})}}function s(e){var t,n,r,i,a=e.filters;if(a)for(t=0,n=a.length;n>t;t++)r=a[t],i=r.operator,i&&typeof i===pt&&(r.operator=U[i.toLowerCase()]||i),s(r)}function l(e){return e&&!it(e)?((at(e)||!e.filters)&&(e={logic:"and",filters:at(e)?e:[e]}),s(e),e):t}function u(e){return at(e)?e:[e]}function d(e,n){var r=typeof e===pt?{field:e,dir:n}:e,i=at(r)?r:r!==t?[r]:[];return R(i,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates}})}function c(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t}function f(e,t,n,r,i,a){var o,s,l,u,d;for(t=t||[],u=t.length,o=0;u>o;o++)s=t[o],l=s.aggregate,d=s.field,e[d]=e[d]||{},a[d]=a[d]||{},a[d][l]=a[d][l]||{},e[d][l]=W[l.toLowerCase()](e[d][l],n,dt.accessor(d),r,i,a[d][l])}function h(e){return"number"==typeof e&&!isNaN(e)}function p(e){return e&&e.getTime}function g(e){var t,n=e.length,r=Array(n);for(t=0;n>t;t++)r[t]=e[t].toJSON();return r}function m(e,t,n,r,i){var a,o,s,l,u;for(l=0,u=e.length;u>l;l++){a=e[l];for(o in t)s=i[o],s&&s!==o&&(a[s]=t[o](a),delete a[o])}}function v(e,t,n,r,i){var a,o,s,l,u;for(l=0,u=e.length;u>l;l++){a=e[l];for(o in t)a[o]=n._parse(o,t[o](a)),s=i[o],s&&s!==o&&delete a[s]}}function _(e,t,n,r,i){var a,o,s,l;for(o=0,l=e.length;l>o;o++)a=e[o],s=r[a.field],s&&s!=a.field&&(a.field=s),a.value=n._parse(a.field,a.value),a.hasSubgroups?_(a.items,t,n,r,i):v(a.items,t,n,r,i)}function y(e,t,n,r,i,a){return function(o){return o=e(o),o&&!it(r)&&("[object Array]"===Rt.call(o)||o instanceof Wt||(o=[o]),n(o,r,new t,i,a)),o||[]}}function b(e,t,n,r){for(var i,a,o,s=0;t.length&&r&&(i=t[s],a=i.items,o=a.length,e&&e.field===i.field&&e.value===i.value?(e.hasSubgroups&&e.items.length?b(e.items[e.items.length-1],i.items,n,r):(a=a.slice(n,n+r),e.items=e.items.concat(a)),t.splice(s--,1)):i.hasSubgroups&&a.length?b(i,a,n,r):(a=a.slice(n,n+r),i.items=a,i.items.length||t.splice(s--,1)),0===a.length?n-=o:(n=0,r-=a.length),!(++s>=t.length)););t.length>s&&t.splice(s,t.length-s)}function x(e){var t,n,r,i,a,o=[];for(t=0,n=e.length;n>t;t++)if(a=e.at(t),a.hasSubgroups)o=o.concat(x(a.items));else for(r=a.items,i=0;r.length>i;i++)o.push(r.at(i));return o}function k(e,t){var n,r,i;if(t)for(n=0,r=e.length;r>n;n++)i=e.at(n),i.hasSubgroups?k(i.items,t):i.items=new $t(i.items,t)}function w(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n].hasSubgroups){if(w(e[n].items,t))return!0}else if(t(e[n].items,e[n]))return!0}function S(e,t,n,r){for(var i=0;e.length>i&&e[i].data!==t&&!T(e[i].data,n,r);i++);}function T(e,t,n){for(var r=0,i=e.length;i>r;r++){if(e[r]&&e[r].hasSubgroups)return T(e[r].items,t,n);if(e[r]===t||e[r]===n)return e[r]=n,!0}}function M(e,n,r,i,a){var o,s,l,u;for(o=0,s=e.length;s>o;o++)if(l=e[o],l&&!(l instanceof i))if(l.hasSubgroups===t||a){for(u=0;n.length>u;u++)if(n[u]===l){e[o]=n.at(u),S(r,n,l,e[o]);break}}else M(l.items,n,r,i,a)}function C(e,t){var n,r,i;for(n=0,r=e.length;r>n;n++)if(i=e.at(n),i.uid==t.uid)return e.splice(n,1),i}function D(e,t){var n,r,i,a;for(i=e.length-1,a=0;i>=a;i--)r=e[i],n={value:t.get(r.field),field:r.field,items:n?[n]:[t],hasSubgroups:!!n,aggregates:{}};return n}function O(e,t){return t?E(e,function(e){return e.uid?e.uid==t.uid:e[t.idField]===t.id}):-1}function z(e,t){return t?E(e,function(e){return e.uid==t.uid}):-1}function E(e,t){var n,r;for(n=0,r=e.length;r>n;n++)if(t(e[n]))return n;return-1}function N(e,t){var n,r;return e&&!it(e)?(n=e[t],r=rt(n)?n.from||n.field||t:e[t]||t,ct(r)?t:r):t}function A(e,t){var n,r,i,a={};for(i in e)"filters"!==i&&(a[i]=e[i]);if(e.filters)for(a.filters=[],n=0,r=e.filters.length;r>n;n++)a.filters[n]=A(e.filters[n],t);else a.field=N(t.fields,a.field);return a}function P(e,t){var n,r,i,a,o,s=[];for(n=0,r=e.length;r>n;n++){i={},a=e[n];for(o in a)i[o]=a[o];i.field=N(t.fields,i.field),i.aggregates&&at(i.aggregates)&&(i.aggregates=P(i.aggregates,t)),s.push(i)}return s}function I(t,n){var r,i,a,o,s,l=e(t)[0].children,u=[],d=n[0],c=n[1];for(r=0,i=l.length;i>r;r++)a={},s=l[r],s.disabled||(a[d.field]=s.text,o=s.attributes.value,o=o&&o.specified?s.value:s.text,a[c.field]=o,u.push(a));return u}function H(t,n){var r,i,a,o,s,l,u,d=e(t)[0].tBodies[0],c=d?d.rows:[],f=n.length,h=[];for(r=0,i=c.length;i>r;r++){for(s={},u=!0,o=c[r].cells,a=0;f>a;a++)l=o[a],"th"!==l.nodeName.toLowerCase()&&(u=!1,s[n[a].field]=l.innerHTML);u||h.push(s)}return h}function F(e){return function(){var t=this._data,n=Y.fn[e].apply(this,Ft.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),n}}function q(t,n){function r(e,t){return e.filter(t).add(e.find(t))}var i,a,o,s,l,u,d,c,f=e(t).children(),h=[],p=n[0].field,g=n[1]&&n[1].field,m=n[2]&&n[2].field,v=n[3]&&n[3].field;for(i=0,a=f.length;a>i;i++)o={_loaded:!0},s=f.eq(i),u=s[0].firstChild,c=s.children(),t=c.filter("ul"),c=c.filter(":not(ul)"),l=s.attr("data-id"),l&&(o.id=l),u&&(o[p]=3==u.nodeType?u.nodeValue:c.text()),g&&(o[g]=r(c,"a").attr("href")),v&&(o[v]=r(c,"img").attr("src")),m&&(d=r(c,".k-sprite").prop("className"),o[m]=d&&e.trim(d.replace("k-sprite",""))),t.length&&(o.items=q(t.eq(0),n)),"true"==s.attr("data-hasChildren")&&(o.hasChildren=!0),h.push(o);return h}var R,j,L,B,U,W,$,V,G,J,Y,Q,X,Z,K,et,tt=e.extend,nt=e.proxy,rt=e.isPlainObject,it=e.isEmptyObject,at=e.isArray,ot=e.grep,st=e.ajax,lt=e.each,ut=e.noop,dt=window.kendo,ct=dt.isFunction,ft=dt.Observable,ht=dt.Class,pt="string",gt="function",mt="create",vt="read",_t="update",yt="destroy",bt="change",xt="sync",kt="get",wt="error",St="requestStart",Tt="progress",Mt="requestEnd",Ct=[mt,vt,_t,yt],Dt=function(e){return e},Ot=dt.getter,zt=dt.stringify,Et=Math,Nt=[].push,At=[].join,Pt=[].pop,It=[].splice,Ht=[].shift,Ft=[].slice,qt=[].unshift,Rt={}.toString,jt=dt.support.stableSort,Lt=/^\/Date\((.*?)\)\/$/,Bt=/(\r+|\n+)/g,Ut=/(?=['\\])/g,Wt=ft.extend({init:function(e,t){var n=this;n.type=t||Vt,ft.fn.init.call(n),n.length=e.length,n.wrapAll(e,n)},at:function(e){return this[e]},toJSON:function(){var e,t,n=this.length,r=Array(n);for(e=0;n>e;e++)t=this[e],t instanceof Vt&&(t=t.toJSON()),r[e]=t;return r},parent:ut,wrapAll:function(e,t){var n,r,i=this,a=function(){return i};for(t=t||[],n=0,r=e.length;r>n;n++)t[n]=i.wrap(e[n],a);return t},wrap:function(e,t){var n,r=this;return null!==e&&"[object Object]"===Rt.call(e)&&(n=e instanceof r.type||e instanceof Yt,n||(e=e instanceof Vt?e.toJSON():e,e=new r.type(e)),e.parent=t,e.bind(bt,function(e){r.trigger(bt,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemloaded":"itemchange"})})),e},push:function(){var e,t=this.length,n=this.wrapAll(arguments);return e=Nt.apply(this,n),this.trigger(bt,{action:"add",index:t,items:n}),e},slice:Ft,sort:[].sort,join:At,pop:function(){var e=this.length,t=Pt.apply(this);return e&&this.trigger(bt,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,n){var r,i,a,o=this.wrapAll(Ft.call(arguments,2));if(r=It.apply(this,[e,t].concat(o)),r.length)for(this.trigger(bt,{action:"remove",index:e,items:r}),i=0,a=r.length;a>i;i++)r[i].children&&r[i].unbind(bt);return n&&this.trigger(bt,{action:"add",index:e,items:o}),r},shift:function(){var e=this.length,t=Ht.apply(this);return e&&this.trigger(bt,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=qt.apply(this,t),this.trigger(bt,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,n,r=this;for(t=0,n=r.length;n>t;t++)if(r[t]===e)return t;return-1},forEach:function(e){for(var t=0,n=this.length;n>t;t++)e(this[t],t,this)},map:function(e){for(var t=0,n=[],r=this.length;r>t;t++)n[t]=e(this[t],t,this);return n},filter:function(e){for(var t,n=0,r=[],i=this.length;i>n;n++)t=this[n],e(t,n,this)&&(r[r.length]=t);return r},find:function(e){for(var t,n=0,r=this.length;r>n;n++)if(t=this[n],e(t,n,this))return t},every:function(e){for(var t,n=0,r=this.length;r>n;n++)if(t=this[n],!e(t,n,this))return!1;return!0},some:function(e){for(var t,n=0,r=this.length;r>n;n++)if(t=this[n],e(t,n,this))return!0;return!1},remove:function(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}}),$t=Wt.extend({init:function(e,t){ft.fn.init.call(this),this.type=t||Vt;for(var n=0;e.length>n;n++)this[n]=e[n];this.length=n,this._parent=nt(function(){return this},this)},at:function(e){var t=this[e];return t instanceof this.type?t.parent=this._parent:t=this[e]=this.wrap(t,this._parent),t}}),Vt=ft.extend({init:function(e){var t,n,r=this,i=function(){return r};ft.fn.init.call(this);for(n in e)t=e[n],"object"==typeof t&&t&&!t.getTime&&"_"!=n.charAt(0)&&(t=r.wrap(t,n,i)),r[n]=t;r.uid=dt.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_events"!==e&&typeof this[e]!==gt&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(){var e,t,n={};for(t in this)this.shouldSerialize(t)&&(e=this[t],(e instanceof Vt||e instanceof Wt)&&(e=e.toJSON()),n[t]=e);return n},get:function(e){var t,n=this;return n.trigger(kt,{field:e}),t="this"===e?n:dt.getter(e,!0)(n)},_set:function(e,t){var n,r,i,a=this,o=e.indexOf(".")>=0;if(o)for(n=e.split("."),r="";n.length>1;){if(r+=n.shift(),i=dt.getter(r,!0)(a),i instanceof Vt)return i.set(n.join("."),t),o;r+="."}return dt.setter(e)(a,t),o},set:function(e,t){var n=this,r=e.indexOf(".")>=0,i=dt.getter(e,!0)(n);i!==t&&(n.trigger("set",{field:e,value:t})||(r||(t=n.wrap(t,e,function(){return n})),(!n._set(e,t)||e.indexOf("(")>=0||e.indexOf("[")>=0)&&n.trigger(bt,{field:e})))},parent:ut,wrap:function(e,t,r){var i,a,o=this,s=Rt.call(e);return null==e||"[object Object]"!==s&&"[object Array]"!==s||(i=e instanceof Wt,a=e instanceof Y,"[object Object]"!==s||a||i?("[object Array]"===s||i||a)&&(i||a||(e=new Wt(e)),e.parent()!=r()&&e.bind(bt,n(o,bt,t,!1))):(e instanceof Vt||(e=new Vt(e)),e.parent()!=r()&&(e.bind(kt,n(o,kt,t,!0)),e.bind(bt,n(o,bt,t,!0)))),e.parent=r),e}}),Gt={number:function(e){return dt.parseFloat(e)},date:function(e){return dt.parseDate(e)},"boolean":function(e){return typeof e===pt?"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return null!=e?e+"":e},"default":function(e){return e}},Jt={string:"",number:0,date:new Date,"boolean":!1,"default":""},Yt=Vt.extend({init:function(n){var r,i,a=this;if((!n||e.isEmptyObject(n))&&(n=e.extend({},a.defaults,n),a._initializers))for(r=0;a._initializers.length>r;r++)i=a._initializers[r],n[i]=a.defaults[i]();Vt.fn.init.call(a,n),a.dirty=!1,a.idField&&(a.id=a.get(a.idField),a.id===t&&(a.id=a._defaultId))},shouldSerialize:function(e){return Vt.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"_accessors"!==e},_parse:function(e,t){var n,r=this,a=e,o=r.fields||{};return e=o[e],e||(e=i(o,a)),e&&(n=e.parse,!n&&e.type&&(n=Gt[e.type.toLowerCase()])),n?n(t):t},_notifyChange:function(e){var t=e.action;("add"==t||"remove"==t)&&(this.dirty=!0)},editable:function(e){return e=(this.fields||{})[e],e?e.editable!==!1:!0},set:function(e,t,n){var i=this;i.editable(e)&&(t=i._parse(e,t),r(t,i.get(e))||(i.dirty=!0,Vt.fn.set.call(i,e,t,n)))},accept:function(e){var t,n,r=this,i=function(){return r};for(t in e)n=e[t],"_"!=t.charAt(0)&&(n=r.wrap(e[t],t,i)),r._set(t,n);r.idField&&(r.id=r.get(r.idField)),r.dirty=!1},isNew:function(){return this.id===this._defaultId}});Yt.define=function(e,n){n===t&&(n=e,e=Yt);var r,i,a,o,s,l,u,d,c=tt({defaults:{}},n),f={},h=c.id,p=[];if(h&&(c.idField=h),c.id&&delete c.id,h&&(c.defaults[h]=c._defaultId=""),"[object Array]"===Rt.call(c.fields)){for(l=0,u=c.fields.length;u>l;l++)a=c.fields[l],typeof a===pt?f[a]={}:a.field&&(f[a.field]=a);
c.fields=f}for(i in c.fields)a=c.fields[i],o=a.type||"default",s=null,d=i,i=typeof a.field===pt?a.field:i,a.nullable||(s=c.defaults[d!==i?d:i]=a.defaultValue!==t?a.defaultValue:Jt[o.toLowerCase()],"function"==typeof s&&p.push(i)),n.id===i&&(c._defaultId=s),c.defaults[d!==i?d:i]=s,a.parse=a.parse||Gt[o];return p.length>0&&(c._initializers=p),r=e.extend(c),r.define=function(e){return Yt.define(r,e)},c.fields&&(r.fields=c.fields,r.idField=c.idField),r},j={selector:function(e){return ct(e)?e:Ot(e)},compare:function(e){var t=this.selector(e);return function(e,n){return e=t(e),n=t(n),null==e&&null==n?0:null==e?-1:null==n?1:e.localeCompare?e.localeCompare(n):e>n?1:n>e?-1:0}},create:function(e){var t=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,n){return t(n,e,!0)}:t},combine:function(e){return function(t,n){var r,i,a=e[0](t,n);for(r=1,i=e.length;i>r;r++)a=a||e[r](t,n);return a}}},L=tt({},j,{asc:function(e){var t=this.selector(e);return function(e,n){var r=t(e),i=t(n);return r&&r.getTime&&i&&i.getTime&&(r=r.getTime(),i=i.getTime()),r===i?e.__position-n.__position:null==r?-1:null==i?1:r.localeCompare?r.localeCompare(i):r>i?1:-1}},desc:function(e){var t=this.selector(e);return function(e,n){var r=t(e),i=t(n);return r&&r.getTime&&i&&i.getTime&&(r=r.getTime(),i=i.getTime()),r===i?e.__position-n.__position:null==r?1:null==i?-1:i.localeCompare?i.localeCompare(r):i>r?1:-1}},create:function(e){return this[e.dir](e.field)}}),R=function(e,t){var n,r=e.length,i=Array(r);for(n=0;r>n;n++)i[n]=t(e[n],n,e);return i},B=function(){function e(e){return e.replace(Ut,"\\").replace(Bt,"")}function t(t,n,r,i){var a;return null!=r&&(typeof r===pt&&(r=e(r),a=Lt.exec(r),a?r=new Date(+a[1]):i?(r="'"+r.toLowerCase()+"'",n="("+n+" || '').toLowerCase()"):r="'"+r+"'"),r.getTime&&(n="("+n+"?"+n+".getTime():"+n+")",r=r.getTime())),n+" "+t+" "+r}return{eq:function(e,n,r){return t("==",e,n,r)},neq:function(e,n,r){return t("!=",e,n,r)},gt:function(e,n,r){return t(">",e,n,r)},gte:function(e,n,r){return t(">=",e,n,r)},lt:function(e,n,r){return t("<",e,n,r)},lte:function(e,n,r){return t("<=",e,n,r)},startswith:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".lastIndexOf('"+n+"', 0) == 0"},endswith:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"', "+t+".length - "+(n||"").length+") >= 0"},contains:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"') >= 0"},doesnotcontain:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"') == -1"}}}(),a.filterExpr=function(e){var n,r,i,o,s,l,u=[],d={and:" && ",or:" || "},c=[],f=[],h=e.filters;for(n=0,r=h.length;r>n;n++)i=h[n],s=i.field,l=i.operator,i.filters?(o=a.filterExpr(i),i=o.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(f.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(c.length+t)+"]"}),f.push.apply(f,o.operators),c.push.apply(c,o.fields)):(typeof s===gt?(o="__f["+c.length+"](d)",c.push(s)):o=dt.expr(s),typeof l===gt?(i="__o["+f.length+"]("+o+", "+i.value+")",f.push(l)):i=B[(l||"eq").toLowerCase()](o,i.value,i.ignoreCase!==t?i.ignoreCase:!0)),u.push(i);return{expression:"("+u.join(d[e.logic])+")",fields:c,operators:f}},U={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"},a.normalizeFilter=l,a.prototype={toArray:function(){return this.data},range:function(e,t){return new a(this.data.slice(e,e+t))},skip:function(e){return new a(this.data.slice(e))},take:function(e){return new a(this.data.slice(0,e))},select:function(e){return new a(R(this.data,e))},order:function(e,t){var n={dir:t};return e&&(e.compare?n.compare=e.compare:n.field=e),new a(this.data.slice(0).sort(j.create(n)))},orderBy:function(e){return this.order(e,"asc")},orderByDescending:function(e){return this.order(e,"desc")},sort:function(e,t,n){var r,i,a=o(e,t),s=[];if(n=n||j,a.length){for(r=0,i=a.length;i>r;r++)s.push(n.create(a[r]));return this.orderBy({compare:n.combine(s)})}return this},filter:function(e){var t,n,r,i,o,s,u,d,c=this.data,f=[];if(e=l(e),!e||0===e.filters.length)return this;for(i=a.filterExpr(e),s=i.fields,u=i.operators,o=d=Function("d, __f, __o","return "+i.expression),(s.length||u.length)&&(d=function(e){return o(e,s,u)}),t=0,r=c.length;r>t;t++)n=c[t],d(n)&&f.push(n);return new a(f)},group:function(e,t){e=d(e||[]),t=t||this.data;var n,r=this,i=new a(r.data);return e.length>0&&(n=e[0],i=i.groupBy(n).select(function(r){var i=new a(t).filter([{field:r.field,operator:"eq",value:r.value,ignoreCase:!1}]);return{field:r.field,value:r.value,items:e.length>1?new a(r.items).group(e.slice(1),i.toArray()).toArray():r.items,hasSubgroups:e.length>1,aggregates:i.aggregate(n.aggregates)}})),i},groupBy:function(e){if(it(e)||!this.data.length)return new a([]);var t,n,r,i,o=e.field,s=this._sortForGrouping(o,e.dir||"asc"),l=dt.accessor(o),u=l.get(s[0],o),d={field:o,value:u,items:[]},f=[d];for(r=0,i=s.length;i>r;r++)t=s[r],n=l.get(t,o),c(u,n)||(u=n,d={field:o,value:u,items:[]},f.push(d)),d.items.push(t);return new a(f)},_sortForGrouping:function(e,t){var n,r,i=this.data;if(!jt){for(n=0,r=i.length;r>n;n++)i[n].__position=n;for(i=new a(i).sort(e,t,L).toArray(),n=0,r=i.length;r>n;n++)delete i[n].__position;return i}return this.sort(e,t).toArray()},aggregate:function(e){var t,n,r={},i={};if(e&&e.length)for(t=0,n=this.data.length;n>t;t++)f(r,e,this.data[t],t,n,i);return r}},W={sum:function(e,t,n){var r=n.get(t);return h(e)?h(r)&&(e+=r):e=r,e},count:function(e){return(e||0)+1},average:function(e,n,r,i,a,o){var s=r.get(n);return o.count===t&&(o.count=0),h(e)?h(s)&&(e+=s):e=s,h(s)&&o.count++,i==a-1&&h(e)&&(e/=o.count),e},max:function(e,t,n){var r=n.get(t);return h(e)||p(e)||(e=r),r>e&&(h(r)||p(r))&&(e=r),e},min:function(e,t,n){var r=n.get(t);return h(e)||p(e)||(e=r),e>r&&(h(r)||p(r))&&(e=r),e}},a.process=function(e,n){n=n||{};var r,i=new a(e),s=n.group,l=d(s||[]).concat(o(n.sort||[])),u=n.filterCallback,c=n.filter,f=n.skip,h=n.take;return c&&(i=i.filter(c),u&&(i=u(i)),r=i.toArray().length),l&&(i=i.sort(l),s&&(e=i.toArray())),f!==t&&h!==t&&(i=i.range(f,h)),s&&(i=i.group(s,e)),{total:r,data:i.toArray()}},$=ht.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),V=ht.extend({init:function(e){var t,n=this;e=n.options=tt({},n.options,e),lt(Ct,function(t,n){typeof e[n]===pt&&(e[n]={url:e[n]})}),n.cache=e.cache?G.create(e.cache):{find:ut,add:ut},t=e.parameterMap,ct(e.push)&&(n.push=e.push),n.push||(n.push=Dt),n.parameterMap=ct(t)?t:function(e){var n={};return lt(e,function(e,r){e in t&&(e=t[e],rt(e)&&(r=e.value(r),e=e.key)),n[e]=r}),n}},options:{parameterMap:Dt},create:function(e){return st(this.setup(e,mt))},read:function(n){var r,i,a,o=this,s=o.cache;n=o.setup(n,vt),r=n.success||ut,i=n.error||ut,a=s.find(n.data),a!==t?r(a):(n.success=function(e){s.add(n.data,e),r(e)},e.ajax(n))},update:function(e){return st(this.setup(e,_t))},destroy:function(e){return st(this.setup(e,yt))},setup:function(e,t){e=e||{};var n,r=this,i=r.options[t],a=ct(i.data)?i.data(e.data):i.data;return e=tt(!0,{},i,e),n=tt(!0,{},a,e.data),e.data=r.parameterMap(n,t),ct(e.url)&&(e.url=e.url(n)),e}}),G=ht.extend({init:function(){this._store={}},add:function(e,n){e!==t&&(this._store[zt(e)]=n)},find:function(e){return this._store[zt(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[zt(e)]}}),G.create=function(e){var t={inmemory:function(){return new G}};return rt(e)&&ct(e.find)?e:e===!0?new G:t[e]()},J=ht.extend({init:function(e){var t,n,r,i,a,o,s,l,u,d,c,f,h,p=this;e=e||{};for(t in e)n=e[t],p[t]=typeof n===pt?Ot(n):n;i=e.modelBase||Yt,rt(p.model)&&(p.model=r=i.define(p.model)),a=nt(p.data,p),p._dataAccessFunction=a,p.model&&(o=nt(p.groups,p),s=nt(p.serialize,p),l={},u={},d={},c={},f=!1,r=p.model,r.fields&&(lt(r.fields,function(e,t){var n;h=e,rt(t)&&t.field?h=t.field:typeof t===pt&&(h=t),rt(t)&&t.from&&(n=t.from),f=f||n&&n!==e||h!==e,u[e]=Ot(n||h),d[e]=Ot(e),l[n||h]=e,c[e]=n||h}),!e.serialize&&f&&(p.serialize=y(s,r,m,d,l,c))),p._dataAccessFunction=a,p.data=y(a,r,v,u,l,c),p.groups=y(o,r,_,u,l,c))},errors:function(e){return e?e.errors:null},parse:Dt,data:Dt,total:function(e){return e.length},groups:Dt,aggregates:function(){return{}},serialize:function(e){return e}}),Y=ft.extend({init:function(e){var n,r,i,a=this;e&&(r=e.data),e=a.options=tt({},a.options,e),a._map={},a._prefetch={},a._data=[],a._pristineData=[],a._ranges=[],a._view=[],a._pristineTotal=0,a._destroyed=[],a._pageSize=e.pageSize,a._page=e.page||(e.pageSize?1:t),a._sort=o(e.sort),a._filter=l(e.filter),a._group=d(e.group),a._aggregate=e.aggregate,a._total=e.total,a._shouldDetachObservableParents=!0,ft.fn.init.call(a),a.transport=Q.create(e,r),ct(a.transport.push)&&a.transport.push({pushCreate:nt(a._pushCreate,a),pushUpdate:nt(a._pushUpdate,a),pushDestroy:nt(a._pushDestroy,a)}),null!=e.offlineStorage&&("string"==typeof e.offlineStorage?(i=e.offlineStorage,a._storage={getItem:function(){return JSON.parse(localStorage.getItem(i))},setItem:function(e){localStorage.setItem(i,zt(e))}}):a._storage=e.offlineStorage),a.reader=new dt.data.readers[e.schema.type||"json"](e.schema),n=a.reader.model||{},a._detachObservableParents(),a._data=a._observe(a._data),a._online=!0,a.bind(["push",wt,bt,St,xt,Mt,Tt],e)},options:{data:null,schema:{modelBase:Yt},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},online:function(e){return e===t?this._online:(this._online!=e&&(this._online=e,e&&this.sync()),t)},offlineData:function(e){return null==this.options.offlineStorage?null:e!==t?this._storage.setItem(e):this._storage.getItem()||{}},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var n=this._readData(e);n||(n=e),this[t](n)},_flatData:function(e,t){if(e){if(this._isServerGrouped())return x(e);if(!t)for(var n=0;e.length>n;n++)e.at(n)}return e},parent:ut,get:function(e){var t,n,r=this._flatData(this._data);for(t=0,n=r.length;n>t;t++)if(r[t].id==e)return r[t]},getByUid:function(e){var t,n,r=this._flatData(this._data);if(r)for(t=0,n=r.length;n>t;t++)if(r[t].uid==e)return r[t]},indexOf:function(e){return z(this._data,e)},at:function(e){return this._data.at(e)},data:function(e){var n,r=this;if(e===t){if(r._data)for(n=0;r._data.length>n;n++)r._data.at(n);return r._data}r._detachObservableParents(),r._data=this._observe(e),r._pristineData=e.slice(0),r._storeData(),r._ranges=[],r.trigger("reset"),r._addRange(r._data),r._total=r._data.length,r._pristineTotal=r._total,r._process(r._data)},view:function(e){return e===t?this._view:(this._view=this._observeView(e),t)},_observeView:function(e){var t,n=this;return M(e,n._data,n._ranges,n.reader.model||Vt,n._isServerGrouped()),t=new $t(e,n.reader.model),t.parent=function(){return n.parent()},t},flatView:function(){var e=this.group()||[];return e.length?x(this._view):this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):e instanceof Vt?e:new Vt(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof Yt||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,D(this.group(),t)):this._data.splice(e,0,t),t},pushCreate:function(e){var t,n,r,i,a,o;at(e)||(e=[e]),t=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(r=0;e.length>r;r++)i=e[r],a=this.add(i),t.push(a),o=a.toJSON(),this._isServerGrouped()&&(o=D(this.group(),o)),this._pristineData.push(o)}finally{this.options.autoSync=n}t.length&&this.trigger("push",{type:"create",items:t})},pushUpdate:function(e){var t,n,r,i,a;for(at(e)||(e=[e]),t=[],n=0;e.length>n;n++)r=e[n],i=this._createNewModel(r),a=this.get(i.id),a?(t.push(a),a.accept(r),a.trigger(bt),this._updatePristineForModel(a,r)):this.pushCreate(r);t.length&&this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){var t=this._removeItems(e);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(e){var t,n,r,i,a,o;at(e)||(e=[e]),t=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(r=0;e.length>r;r++)i=e[r],a=this._createNewModel(i),o=!1,this._eachItem(this._data,function(e){var n,r;for(n=0;e.length>n;n++)if(r=e.at(n),r.id===a.id){t.push(r),e.splice(n,1),o=!0;break}}),o&&(this._removePristineForModel(a),this._destroyed.pop())}finally{this.options.autoSync=n}return t},remove:function(e){var n,r=this,i=r._isServerGrouped();return this._eachItem(r._data,function(a){return n=C(a,e),n&&i?(n.isNew&&n.isNew()||r._destroyed.push(n),!0):t}),this._removeModelFromRanges(e),this._updateRangesLength(),e},sync:function(){var t,n,r,i,a=this,o=[],s=[],l=a._destroyed,u=a._flatData(a._data);if(a.online()){if(!a.reader.model)return;for(t=0,n=u.length;n>t;t++)u[t].isNew()?o.push(u[t]):u[t].dirty&&s.push(u[t]);i=[],i.push.apply(i,a._send("create",o)),i.push.apply(i,a._send("update",s)),i.push.apply(i,a._send("destroy",l)),r=e.when.apply(null,i).then(function(){var e,t;for(e=0,t=arguments.length;t>e;e++)a._accept(arguments[e]);a._storeData(!0),a._change({action:"sync"}),a.trigger(xt)})}else a._storeData(!0),a._change({action:"sync"}),r=e.Deferred().resolve().promise();return r},cancelChanges:function(e){var t=this;e instanceof dt.data.Model?t._cancelModel(e):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._change())},hasChanges:function(){var e,t,n=this._data;if(this._destroyed.length)return!0;for(e=0,t=n.length;t>e;e++)if(n[e].isNew&&n[e].isNew()||n[e].dirty)return!0;return!1},_accept:function(t){var n,r=this,i=t.models,a=t.response,o=0,s=r._isServerGrouped(),l=r._pristineData,u=t.type;if(r.trigger(Mt,{response:a,type:u}),a&&!it(a)){if(a=r.reader.parse(a),r._handleCustomErrors(a))return;a=r.reader.data(a),at(a)||(a=[a])}else a=e.map(i,function(e){return e.toJSON()});for("destroy"===u&&(r._destroyed=[]),o=0,n=i.length;n>o;o++)"destroy"!==u?(i[o].accept(a[o]),"create"===u?l.push(s?D(r.group(),i[o]):a[o]):"update"===u&&r._updatePristineForModel(i[o],a[o])):r._removePristineForModel(i[o])},_updatePristineForModel:function(e,t){this._executeOnPristineForModel(e,function(e,n){dt.deepExtend(n[e],t)})},_executeOnPristineForModel:function(e,n){this._eachPristineItem(function(r){var i=O(r,e);return i>-1?(n(i,r),!0):t})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t.call(this.reader,e)},_eachPristineItem:function(e){this._eachItem(this._pristineData,e)},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?w(e,t):t(e))},_pristineForModel:function(e){var n,r,i=function(i){return r=O(i,e),r>-1?(n=i[r],!0):t};return this._eachPristineItem(i),n},_cancelModel:function(e){var t=this._pristineForModel(e);this._eachItem(this._data,function(n){var r=z(n,e);r>=0&&(!t||e.isNew()&&!t.__state__?n.splice(r,1):n[r].accept(t))})},_promise:function(t,n,r){var i=this;return e.Deferred(function(e){i.trigger(St,{type:r}),i.transport[r].call(i.transport,tt({success:function(t){e.resolve({response:t,models:n,type:r})},error:function(t,n,r){e.reject(t),i.error(t,n,r)}},t))}).promise()},_send:function(e,t){var n,r,i=this,a=[],o=i.reader.serialize(g(t));if(i.options.batch)t.length&&a.push(i._promise({data:{models:o}},t,e));else for(n=0,r=t.length;r>n;n++)a.push(i._promise({data:o[n]},[t[n]],e));return a},read:function(t){var n=this,r=n._params(t),i=e.Deferred();return n._queueRequest(r,function(){var e=n.trigger(St,{type:"read"});e?(n._dequeueRequest(),i.resolve(e)):(n.trigger(Tt),n._ranges=[],n.trigger("reset"),n.online()?n.transport.read({data:r,success:function(e){n.success(e),i.resolve()},error:function(){var e=Ft.call(arguments);n.error.apply(n,e),i.reject.apply(i,e)}}):null!=n.options.offlineStorage&&(n.success(n.offlineData()),i.resolve()))}),i.promise()},_readAggregates:function(e){return this.reader.aggregates(e)},success:function(e){var n,r,i,a,o=this,s=o.options;if(o.trigger(Mt,{response:e,type:"read"}),o.online()){if(e=o.reader.parse(e),o._handleCustomErrors(e))return o._dequeueRequest(),t;o._total=o.reader.total(e),o._aggregate&&s.serverAggregates&&(o._aggregateResult=o._readAggregates(e)),e=o._readData(e)}else{for(e=o._readData(e),n=[],r=0;e.length>r;r++)i=e[r],a=i.__state__,"destroy"==a?this._destroyed.push(this._createNewModel(i)):n.push(i);e=n,o._total=e.length}o._pristineTotal=o._total,o._pristineData=e.slice(0),o._detachObservableParents(),o._data=o._observe(e),null!=o.options.offlineStorage&&o._eachItem(o._data,function(e){var t,n;for(t=0;e.length>t;t++)n=e.at(t),"update"==n.__state__&&(n.dirty=!0)}),o._storeData(),o._addRange(o._data),o._process(o._data),o._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;this._data.length>e;e++)this._data[e].parent&&(this._data[e].parent=ut)},_storeData:function(e){function t(e){var n,r,i,s=[];for(n=0;e.length>n;n++)r=e.at(n),i=r.toJSON(),a&&r.items?i.items=t(r.items):(i.uid=r.uid,o&&(r.isNew()?i.__state__="create":r.dirty&&(i.__state__="update"))),s.push(i);return s}var n,r,i,a=this._isServerGrouped(),o=this.reader.model;if(null!=this.options.offlineStorage){for(n=t(this._data),r=0;this._destroyed.length>r;r++)i=this._destroyed[r].toJSON(),i.__state__="destroy",n.push(i);this.offlineData(n),e&&(this._pristineData=n)}},_addRange:function(e){var t=this,n=t._skip||0,r=n+t._flatData(e,!0).length;t._ranges.push({start:n,end:r,data:e}),t._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,n){this._dequeueRequest(),this.trigger(Mt,{}),this.trigger(wt,{xhr:e,status:t,errorThrown:n})},_params:function(e){var t=this,n=tt({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete n.take,delete n.skip,delete n.page,delete n.pageSize),t.options.serverGrouping?t.reader.model&&n.group&&(n.group=P(n.group,t.reader.model)):delete n.group,t.options.serverFiltering?t.reader.model&&n.filter&&(n.filter=A(n.filter,t.reader.model)):delete n.filter,t.options.serverSorting?t.reader.model&&n.sort&&(n.sort=P(n.sort,t.reader.model)):delete n.sort,t.options.serverAggregates?t.reader.model&&n.aggregate&&(n.aggregate=P(n.aggregate,t.reader.model)):delete n.aggregate,n},_queueRequest:function(e,n){var r=this;r._requestInProgress?r._pending={callback:nt(n,r),options:e}:(r._requestInProgress=!0,r._pending=t,n())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(wt,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_observe:function(e){var t,n=this,r=n.reader.model,i=!1;return n._shouldDetachObservableParents=!0,r&&e.length&&(i=!(e[0]instanceof r)),e instanceof Wt?(n._shouldDetachObservableParents=!1,i&&(e.type=n.reader.model,e.wrapAll(e,e))):(t=n.pageSize()?$t:Wt,e=new t(e,n.reader.model),e.parent=function(){return n.parent()}),n._isServerGrouped()&&k(e,r),n._changeHandler&&n._data&&n._data instanceof Wt?n._data.unbind(bt,n._changeHandler):n._changeHandler=nt(n._change,n),e.bind(bt,n._changeHandler)},_change:function(e){var t,n,r,i=this,a=e?e.action:"";if("remove"===a)for(t=0,n=e.items.length;n>t;t++)e.items[t].isNew&&e.items[t].isNew()||i._destroyed.push(e.items[t]);!i.options.autoSync||"add"!==a&&"remove"!==a&&"itemchange"!==a?(r=parseInt(i._total,10),h(i._total)||(r=parseInt(i._pristineTotal,10)),"add"===a?r+=e.items.length:"remove"===a?r-=e.items.length:"itemchange"===a||"sync"===a||i.options.serverPaging?"sync"===a&&(r=i._pristineTotal=parseInt(i._total,10)):r=i._pristineTotal,i._total=r,i._process(i._data,e)):i.sync()},_calculateAggregates:function(e,t){t=t||{};var n=new a(e),r=t.aggregate,i=t.filter;return i&&(n=n.filter(i)),n.aggregate(r)},_process:function(e,n){var r,i=this,a={};i.options.serverPaging!==!0&&(a.skip=i._skip,a.take=i._take||i._pageSize,a.skip===t&&i._page!==t&&i._pageSize!==t&&(a.skip=(i._page-1)*i._pageSize)),i.options.serverSorting!==!0&&(a.sort=i._sort),i.options.serverFiltering!==!0&&(a.filter=i._filter),i.options.serverGrouping!==!0&&(a.group=i._group),i.options.serverAggregates!==!0&&(a.aggregate=i._aggregate,i._aggregateResult=i._calculateAggregates(e,a)),r=i._queryProcess(e,a),i.view(r.data),r.total===t||i.options.serverFiltering||(i._total=r.total),n=n||{},n.items=n.items||i._view,i.trigger(bt,n)},_queryProcess:function(e,t){return a.process(e,t)},_mergeState:function(e){var n=this;return e!==t&&(n._pageSize=e.pageSize,n._page=e.page,n._sort=e.sort,n._filter=e.filter,n._group=e.group,n._aggregate=e.aggregate,n._skip=e.skip,n._take=e.take,n._skip===t&&(n._skip=n.skip(),e.skip=n.skip()),n._take===t&&n._pageSize!==t&&(n._take=n._pageSize,e.take=n._take),e.sort&&(n._sort=e.sort=o(e.sort)),e.filter&&(n._filter=e.filter=l(e.filter)),e.group&&(n._group=e.group=d(e.group)),e.aggregate&&(n._aggregate=e.aggregate=u(e.aggregate))),e},query:function(n){var r,i,a=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;return a||(this._data===t||0===this._data.length)&&!this._destroyed.length?this.read(this._mergeState(n)):(i=this.trigger(St,{type:"read"}),i||(this.trigger(Tt),r=this._queryProcess(this._data,this._mergeState(n)),this.options.serverFiltering||(this._total=r.total!==t?r.total:this._data.length),this._aggregateResult=this._calculateAggregates(this._data,n),this.view(r.data),this.trigger(Mt,{}),this.trigger(bt,{items:r.data})),e.Deferred().resolve(i).promise())},fetch:function(e){var t=this,n=function(n){n!==!0&&ct(e)&&e.call(t)};return this._query().then(n)},_query:function(e){var t=this;return t.query(tt({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var n=this,r=n.page(),i=n.total();return e=e||{},!r||i&&r+1>n.totalPages()?t:(n._skip=r*n.take(),r+=1,e.page=r,n._query(e),r)},prev:function(e){var n=this,r=n.page();return e=e||{},r&&1!==r?(n._skip=n._skip-n.take(),r-=1,e.page=r,n._query(e),r):t},page:function(e){var n,r=this;return e!==t?(e=Et.max(Et.min(Et.max(e,1),r.totalPages()),1),r._query({page:e}),t):(n=r.skip(),n!==t?Et.round((n||0)/(r.take()||1))+1:t)},pageSize:function(e){var n=this;return e!==t?(n._query({pageSize:e,page:1}),t):n.take()},sort:function(e){var n=this;return e!==t?(n._query({sort:e}),t):n._sort},filter:function(e){var n=this;return e===t?n._filter:(n._query({filter:e,page:1}),t)},group:function(e){var n=this;return e!==t?(n._query({group:e}),t):n._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(e){var n=this;return e!==t?(n._query({aggregate:e}),t):n._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var e=this,t=e.pageSize()||e.total();return Et.ceil((e.total()||0)/t)},inRange:function(e,t){var n=this,r=Et.min(e+t,n.total());return!n.options.serverPaging&&n._data.length>0?!0:n._findRange(e,r).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},range:function(e,n){var r,i,a,o,s,l,u,d;if(e=Et.min(e||0,this.total()),r=this,i=Et.max(Et.floor(e/n),0)*n,a=Et.min(i+n,r.total()),r._skipRequestsInProgress=!1,o=r._findRange(e,Et.min(e+n,r.total())),o.length){r._skipRequestsInProgress=!0,r._pending=t,r._skip=e>r.skip()?Et.min(a,(r.totalPages()-1)*r.take()):i,r._take=n,s=r.options.serverPaging,l=r.options.serverSorting,u=r.options.serverFiltering,d=r.options.serverAggregates;try{r.options.serverPaging=!0,r._isServerGrouped()||r.group()&&r.group().length||(r.options.serverSorting=!0),r.options.serverFiltering=!0,r.options.serverPaging=!0,r.options.serverAggregates=!0,s&&(r._detachObservableParents(),r._data=o=r._observe(o)),r._process(o)}finally{r.options.serverPaging=s,r.options.serverSorting=l,r.options.serverFiltering=u,r.options.serverAggregates=d}}else n!==t&&(r._rangeExists(i,a)?e>i&&r.prefetch(a,n,function(){r.range(e,n)}):r.prefetch(i,n,function(){e>i&&a<r.total()&&!r._rangeExists(a,Et.min(a+n,r.total()))?r.prefetch(a,n,function(){r.range(e,n)}):r.range(e,n)}))},_findRange:function(e,n){var r,i,a,s,l,u,c,f,h,p,g,m,v=this,_=v._ranges,y=[],b=v.options,x=b.serverSorting||b.serverPaging||b.serverFiltering||b.serverGrouping||b.serverAggregates;for(i=0,g=_.length;g>i;i++)if(r=_[i],e>=r.start&&r.end>=e){for(p=0,a=i;g>a;a++)if(r=_[a],h=v._flatData(r.data,!0),h.length&&e+p>=r.start&&(u=r.data,c=r.end,x||(m=d(v.group()||[]).concat(o(v.sort()||[])),f=v._queryProcess(r.data,{sort:m,filter:v.filter()}),h=u=f.data,f.total!==t&&(c=f.total)),s=0,e+p>r.start&&(s=e+p-r.start),l=h.length,c>n&&(l-=c-n),p+=l-s,y=v._mergeGroups(y,u,s,l),r.end>=n&&p==n-e))return y;break}return[]},_mergeGroups:function(e,t,n,r){if(this._isServerGrouped()){var i,a=t.toJSON();return e.length&&(i=e[e.length-1]),b(i,a,n,r),e.concat(a)}return e.concat(t.slice(n,r))},skip:function(){var e=this;return e._skip===t?e._page!==t?(e._page-1)*(e.take()||1):t:e._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(e,t,n){var r=this;return function(i){var a,o,s,l=!1,u={start:e,end:t,data:[]};if(r._dequeueRequest(),r.trigger(Mt,{response:i,type:"read"}),i=r.reader.parse(i),s=r._readData(i),s.length){for(a=0,o=r._ranges.length;o>a;a++)if(r._ranges[a].start===e){l=!0,u=r._ranges[a];break}l||r._ranges.push(u)}u.data=r._observe(s),u.end=u.start+r._flatData(u.data,!0).length,r._ranges.sort(function(e,t){return e.start-t.start}),r._total=r.reader.total(i),r._skipRequestsInProgress||(n&&s.length?n():r.trigger(bt,{}))}},prefetch:function(e,t,n){var r=this,i=Et.min(e+t,r.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(e,i)?n&&n():(clearTimeout(r._timeout),r._timeout=setTimeout(function(){r._queueRequest(a,function(){r.trigger(St,{type:"read"})?r._dequeueRequest():r.transport.read({data:r._params(a),success:r._prefetchSuccessHandler(e,i,n)})})},100))},_rangeExists:function(e,t){var n,r,i=this,a=i._ranges;for(n=0,r=a.length;r>n;n++)if(e>=a[n].start&&a[n].end>=t)return!0;return!1},_removeModelFromRanges:function(e){var t,n,r,i,a;for(i=0,a=this._ranges.length;a>i&&(r=this._ranges[i],this._eachItem(r.data,function(r){t=C(r,e),t&&(n=!0)}),!n);i++);},_updateRangesLength:function(){var e,t,n,r,i=0;for(n=0,r=this._ranges.length;r>n;n++)e=this._ranges[n],e.start=e.start-i,t=this._flatData(e.data,!0).length,i=e.end-t,e.end=e.start+t}}),Q={},Q.create=function(e,t){var n,r=e.transport;return r?(r.read=typeof r.read===pt?{url:r.read}:r.read,e.type&&(dt.data.transports=dt.data.transports||{},dt.data.schemas=dt.data.schemas||{},dt.data.transports[e.type]&&!rt(dt.data.transports[e.type])?n=new dt.data.transports[e.type](tt(r,{data:t})):r=tt(!0,{},dt.data.transports[e.type],r),e.schema=tt(!0,{},dt.data.schemas[e.type],e.schema)),n||(n=ct(r.read)?r:new V(r))):n=new $({data:e.data||[]}),n},Y.create=function(e){(at(e)||e instanceof Wt)&&(e={data:e});var t,n,r,i=e||{},a=i.data,o=i.fields,s=i.table,l=i.select,u={};if(a||!o||i.transport||(s?a=H(s,o):l&&(a=I(l,o))),dt.data.Model&&o&&(!i.schema||!i.schema.model)){for(t=0,n=o.length;n>t;t++)r=o[t],r.type&&(u[r.field]=r);it(u)||(i.schema=tt(!0,i.schema,{model:{fields:u}}))}return i.data=a,s=null,i.table=null,i instanceof Y?i:new Y(i)},X=Yt.define({idField:"id",init:function(e){var t=this,n=t.hasChildren||e&&e.hasChildren,r="items",i={};dt.data.Model.fn.init.call(t,e),typeof t.children===pt&&(r=t.children),i={schema:{data:r,model:{hasChildren:n,id:t.idField,fields:t.fields}}},typeof t.children!==pt&&tt(i,t.children),i.data=e,n||(n=i.schema.data),typeof n===pt&&(n=dt.getter(n)),ct(n)&&(t.hasChildren=!!n.call(t,t)),t._childrenOptions=i,t.hasChildren&&t._initChildren(),t._loaded=!(!e||!e[r]&&!e._loaded)},_initChildren:function(){var e,t,n,r=this;r.children instanceof Z||(e=r.children=new Z(r._childrenOptions),t=e.transport,n=t.parameterMap,t.parameterMap=function(e,t){return e[r.idField||"id"]=r.id,n&&(e=n(e,t)),e},e.parent=function(){return r},e.bind(bt,function(e){e.node=e.node||r,r.trigger(bt,e)}),e.bind(wt,function(e){var t=r.parent();t&&(e.node=e.node||r,t.trigger(wt,e))}),r._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var n,r,i={},a="_query";return this.hasChildren?(this._initChildren(),n=this.children,i[this.idField||"id"]=this.id,this._loaded||(n._data=t,a="read"),n.one(bt,nt(this._childrenLoaded,this)),r=n[a](i)):this.loaded(!0),r||e.Deferred().resolve().promise()},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){return e===t?this._loaded:(this._loaded=e,t)},shouldSerialize:function(e){return Yt.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}}),Z=Y.extend({init:function(e){var t=X.define({children:e});Y.fn.init.call(this,tt(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var e=this;e._data.bind(wt,function(t){e.trigger(wt,t)})},remove:function(e){var t,n=e.parentNode(),r=this;return n&&n._initChildren&&(r=n.children),t=Y.fn.remove.call(r,e),n&&!r.data().length&&(n.hasChildren=!1),t},success:F("success"),data:F("data"),insert:function(e,t){var n=this.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),Y.fn.insert.call(this,e,t)},_find:function(e,t){var n,r,i,a,o;if(i=Y.fn[e].call(this,t))return i;if(a=this._flatData(this._data))for(n=0,r=a.length;r>n;n++)if(o=a[n].children,o instanceof Z&&(i=o[e](t)))return i},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}}),Z.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},n=t.data,r=t.fields,i=t.list;return n&&n._dataSource?n._dataSource:(n||!r||t.transport||i&&(n=q(i,r)),t.data=n,t instanceof Z?t:new Z(t))},K=dt.Observable.extend({init:function(e,t,n){dt.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!n;var r=this;e.bind("change",function(){r._change()}),e.bind("reset",function(){r._reset()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var n=this.pageSize,r=!0;return e>=this.total()?(this.trigger("endreached",{index:e}),null):this.useRanges?this.useRanges?((this.dataOffset>e||e>=this.skip+n)&&(r=this.range(Math.floor(e/n)*n)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange,!0):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange),r?this.dataSource.at(e-this.dataOffset):(this.trigger("endreached",{index:e}),null)):t:this.dataSource.view()[e]
},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,n=e.skip-e.viewSize+t,r=Et.max(Et.floor(n/t),0)*t;this.offset=n,this.dataSource.prefetch(r,t,function(){e._goToRange(n,!0)})},range:function(e,t){if(this.offset===e)return!0;var n=this,r=this.pageSize,i=Et.max(Et.floor(e/r),0)*r,a=this.dataSource;return t&&(i+=r),a.inRange(e,r)?(this.offset=e,this._recalculate(),this._goToRange(e),!0):this.prefetch?(a.prefetch(i,r,function(){n.offset=e,n._recalculate(),n._goToRange(e,!0)}),!1):!0},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,n=this.skip+t,r=this.dataSource;r.inRange(n,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:n,take:t}),r.prefetch(n,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:n,take:t})}))},_goToRange:function(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var e=this.dataSource;this.length=this.useRanges?e.lastRange().end:e.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()||0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,n=this.viewSize,r=Math.ceil(t/e)*e;this.skip=r,this.midPageThreshold=r+e-1,this.nextPageThreshold=r+n-1,this.prefetchThreshold=r+Math.floor(e/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=r+e-n,this.nextFullRange=r,this.previousMidRange=t-n,this.previousFullRange=r-e}}),et=dt.Observable.extend({init:function(e,t){var n=this;dt.Observable.fn.init.call(n),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new K(e,3*t),this.buffer.bind({endreached:function(e){n.trigger("endreached",{index:e.index})},prefetching:function(e){n.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){n.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){n._total=0,n.trigger("reset")},resize:function(){n._total=Math.ceil(this.length/n.batchSize),n.trigger("resize",{total:n.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var n,r,i=this.buffer,a=e*this.batchSize,o=this.batchSize,s=[];for(i.offset>a&&i.at(i.offset-1),r=0;o>r&&(n=i.at(a+r),n!==t);r++)s.push(n);return s},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}}),tt(!0,dt.data,{readers:{json:J},Query:a,DataSource:Y,HierarchicalDataSource:Z,Node:X,ObservableObject:Vt,ObservableArray:Wt,LazyObservableArray:$t,LocalTransport:$,RemoteTransport:V,Cache:G,DataReader:J,Model:Yt,Buffer:K,BatchBuffer:et})}(window.kendo.jQuery),function(e){function t(e,t){var n=e.x.location,r=e.y.location,i=t.x.location,a=t.y.location,o=n-i,s=r-a;return{center:{x:(n+i)/2,y:(r+a)/2},distance:Math.sqrt(o*o+s*s)}}function n(e){var t,n,r,i=[],o=e.originalEvent,s=e.currentTarget,l=0;if(e.api)i.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/))for(n=o?o.changedTouches:[],t=n.length;t>l;l++)r=n[l],i.push({location:r,event:e,target:r.target,currentTarget:s,id:r.identifier,type:"touch"});else i.push(a.pointers||a.msPointers?{location:o,event:e,target:e.target,currentTarget:s,id:o.pointerId,type:"pointer"}:{id:1,event:e,target:e.target,currentTarget:s,location:e,type:"mouse"});return i}function r(e){for(var t=i.eventMap.up.split(" "),n=0,r=t.length;r>n;n++)e(t[n])}var i=window.kendo,a=i.support,o=window.document,s=i.Class,l=i.Observable,u=e.now,d=e.extend,c=a.mobileOS,f=c&&c.android,h=800,p=a.browser.msie?5:0,g="press",m="hold",v="select",_="start",y="move",b="end",x="cancel",k="tap",w="release",S="gesturestart",T="gesturechange",M="gestureend",C="gesturetap",D={api:0,touch:0,mouse:9,pointer:9},O=!a.touch||a.mouseAndTouchPresent,z=s.extend({init:function(e,t){var n=this;n.axis=e,n._updateLocationData(t),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=u()},move:function(e){var t=this,n=e["page"+t.axis],r=u(),i=r-t.timeStamp||1;(n||!f)&&(t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.delta/i,t.timeStamp=r)},_updateLocationData:function(e){var t=this,n=t.axis;t.location=e["page"+n],t.client=e["client"+n],t.screen=e["screen"+n]}}),E=s.extend({init:function(e,t,n){d(this,{x:new z("X",n.location),y:new z("Y",n.location),type:n.type,threshold:e.threshold||D[n.type],userEvents:e,target:t,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(e.proxy(this,"_hold"),this.userEvents.minHold),this._trigger(g,this.pressEvent)},_hold:function(){this._trigger(m,this.pressEvent)},move:function(e){var t=this;if(!t._finished){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(N.current&&N.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger(y,e)}},end:function(e){var t=this;t.endTime=u(),t._finished||(t._finished=!0,t._trigger(w,e),t._moved?t._trigger(b,e):t._trigger(k,e),clearTimeout(t._holdTimeout),t.dispose())},dispose:function(){var t=this.userEvents,n=t.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),n.splice(e.inArray(this,n),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout),this.startTime=u(),this._moved=!0,this._trigger(_,e)},_trigger:function(e,t){var n=this,r=t.event,i={touch:n,x:n.x,y:n.y,target:n.target,event:r};n.userEvents.notify(e,i)&&r.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}}),N=l.extend({init:function(t,n){var s,u,c,f=this,D=i.guid();n=n||{},s=f.filter=n.filter,f.threshold=n.threshold||p,f.minHold=n.minHold||h,f.touches=[],f._maxTouches=n.multiTouch?2:1,f.allowSelection=n.allowSelection,f.captureUpIfMoved=n.captureUpIfMoved,f.eventNS=D,t=e(t).handler(f),l.fn.init.call(f),d(f,{element:t,surface:e(n.global&&O?o.documentElement:n.surface||t),stopPropagation:n.stopPropagation,pressed:!1}),f.surface.handler(f).on(i.applyEventMap("move",D),"_move").on(i.applyEventMap("up cancel",D),"_end"),t.on(i.applyEventMap("down",D),s,"_start"),(a.pointers||a.msPointers)&&t.css("-ms-touch-action","pinch-zoom double-tap-zoom"),n.preventDragEvent&&t.on(i.applyEventMap("dragstart",D),i.preventDefault),t.on(i.applyEventMap("mousedown",D),s,{root:t},"_select"),f.captureUpIfMoved&&a.eventCapture&&(u=f.surface[0],c=e.proxy(f.preventIfMoving,f),r(function(e){u.addEventListener(e,c,!0)})),f.bind([g,m,k,_,y,b,w,x,S,T,M,C,v],n)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var e,t=this;t._destroyed||(t._destroyed=!0,t.captureUpIfMoved&&a.eventCapture&&(e=t.surface[0],r(function(n){e.removeEventListener(n,t.preventIfMoving)})),t.element.kendoDestroy(t.eventNS),t.surface.kendoDestroy(t.eventNS),t.element.removeData("handler"),t.surface.removeData("handler"),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget)},capture:function(){N.current=this},cancel:function(){this._disposeAll(),this.trigger(x)},notify:function(e,n){var r=this,i=r.touches;if(this._isMultiTouch()){switch(e){case y:e=T;break;case b:e=M;break;case k:e=C}d(n,{touches:i},t(i[0],i[1]))}return this.trigger(e,d(n,{type:e}))},press:function(e,t,n){this._apiCall("_start",e,t,n)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var e=this.touches;e.length>0;)e.pop().dispose()},_isMoved:function(){return e.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){(!this.allowSelection||this.trigger(v,{event:e}))&&e.preventDefault()},_start:function(t){var r,i,a=this,o=0,s=a.filter,l=n(t),u=l.length,d=t.which;if(!(d&&d>1||a._maxTouchesReached()))for(N.current=null,a.currentTarget=t.currentTarget,a.stopPropagation&&t.stopPropagation();u>o&&!a._maxTouchesReached();o++)i=l[o],r=s?e(i.currentTarget):a.element,r.length&&(i=new E(a,r,i),a.touches.push(i),i.press(),a._isMultiTouch()&&a.notify("gesturestart",{}))},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_eachTouch:function(e,t){var r,i,a,o,s=this,l={},u=n(t),d=s.touches;for(r=0;d.length>r;r++)i=d[r],l[i.id]=i;for(r=0;u.length>r;r++)a=u[r],o=l[a.id],o&&o[e](a)},_apiCall:function(t,n,r,i){this[t]({api:!0,pageX:n,pageY:r,clientX:n,clientY:r,target:e(i||this.element)[0],stopPropagation:e.noop,preventDefault:e.noop})}});N.defaultThreshold=function(e){p=e},N.minHold=function(e){h=e},i.getTouches=n,i.touchDelta=t,i.UserEvents=N}(window.kendo.jQuery),function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(r){return!1}}function r(e,t){return parseInt(e.css(t),10)||0}function i(e,t){return Math.min(Math.max(e,t.min),t.max)}function a(e,t){var n=k(e),i=n.left+r(e,"borderLeftWidth")+r(e,"paddingLeft"),a=n.top+r(e,"borderTopWidth")+r(e,"paddingTop"),o=i+e.width()-t.outerWidth(!0),s=a+e.height()-t.outerHeight(!0);return{x:{min:i,max:o},y:{min:a,max:s}}}function o(e,n,r){for(var i,a,o=0,s=n&&n.length,l=r&&r.length;e&&e.parentNode;){for(o=0;s>o;o++)if(i=n[o],i.element[0]===e)return{target:i,targetElement:e};for(o=0;l>o;o++)if(a=r[o],p.matchesSelector.call(e,a.options.filter))return{target:a,targetElement:e};e=e.parentNode}return t}var s,l,u,d,c,f,h=window.kendo,p=h.support,g=window.document,m=h.Class,v=h.ui.Widget,_=h.Observable,y=h.UserEvents,b=e.proxy,x=e.extend,k=h.getOffset,w={},S={},T={},M=h.elementUnderCursor,C="keyup",D="change",O="dragstart",z="hold",E="drag",N="dragend",A="dragcancel",P="hintDestroyed",I="dragenter",H="dragleave",F="drop",q=_.extend({init:function(t,n){var r=this,i=t[0];r.capture=!1,i.addEventListener?(e.each(h.eventMap.down.split(" "),function(){i.addEventListener(this,b(r._press,r),!0)}),e.each(h.eventMap.up.split(" "),function(){i.addEventListener(this,b(r._release,r),!0)})):(e.each(h.eventMap.down.split(" "),function(){i.attachEvent(this,b(r._press,r))}),e.each(h.eventMap.up.split(" "),function(){i.attachEvent(this,b(r._release,r))})),_.fn.init.call(r),r.bind(["press","release"],n||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var t=this;t.trigger("press"),t.capture&&e.preventDefault()},_release:function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}),R=_.extend({init:function(t){var n=this;_.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")},makeVirtual:function(){e.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){(this._virtualMin!==e||this._virtualMax!==t)&&(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBounds:function(e){return e>this.max||this.min>e},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,n=t.virtual?t._virtualMax:t.getTotal(),r=n*t.scale,i=t.getSize();(0!==n||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=i,t.total=r,t.min=Math.min(t.max,i-r),t.minScale=i/n,t.centerOffset=(r-i)/2,t.enabled=t.forcedEnabled||r>i,e||t.trigger(D,t))}}),j=_.extend({init:function(e){var t=this;_.fn.init.call(t),t.x=new R(x({horizontal:!0},e)),t.y=new R(x({horizontal:!1},e)),t.container=e.container,t.forcedMinScale=e.minScale,t.maxScale=e.maxScale||100,t.bind(D,e)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(D)}}),L=_.extend({init:function(e){var t=this;x(t,e),_.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this,n=t.dimension,r=t.axis,i=t.movable,a=i[r]+e;n.enabled&&((n.min>a&&0>e||a>n.max&&e>0)&&(e*=t.resistance),i.translateAxis(r,e),t.trigger(D,t))}}),B=m.extend({init:function(e){var t,n,r,i,a=this;x(a,{elastic:!0},e),r=a.elastic?.5:0,i=a.movable,a.x=t=new L({axis:"x",dimension:a.dimensions.x,resistance:r,movable:i}),a.y=n=new L({axis:"y",dimension:a.dimensions.y,resistance:r,movable:i}),a.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(e){a.gesture=e,a.offset=a.dimensions.container.offset()},gesturechange:function(e){var r,o,s,l=a.gesture,u=l.center,d=e.center,c=e.distance/l.distance,f=a.dimensions.minScale,h=a.dimensions.maxScale;f>=i.scale&&1>c&&(c+=.8*(1-c)),i.scale*c>=h&&(c=h/i.scale),o=i.x+a.offset.left,s=i.y+a.offset.top,r={x:(o-u.x)*c+d.x-o,y:(s-u.y)*c+d.y-s},i.scaleWith(c),t.dragMove(r.x),n.dragMove(r.y),a.dimensions.rescale(i.scale),a.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(t.dimension.enabled||n.dimension.enabled?(t.dragMove(e.x.delta),n.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),U=p.transitions.prefix+"Transform";l=p.hasHW3D?function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")"}:function(e,t,n){return"translate("+e+"px,"+t+"px) scale("+n+")"},u=_.extend({init:function(t){var n=this;_.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(l(n.x,n.y,n.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){x(this,e),this.refresh()},refresh:function(){var e,t=this,n=t.x,r=t.y;t.round&&(n=Math.round(n),r=Math.round(r)),e=l(n,r,t.scale),e!=t.coordinates&&(h.support.browser.msie&&10>h.support.browser.version?(t.element[0].style.position="absolute",t.element[0].style.left=t.x+"px",t.element[0].style.top=t.y+"px"):t.element[0].style[U]=e,t._saveCoordinates(e),t.trigger(D))},_saveCoordinates:function(e){this.coordinates=e}}),d=v.extend({init:function(e,t){var n,r=this;v.fn.init.call(r,e,t),n=r.options.group,n in S?S[n].push(r):S[n]=[r]},events:[I,H,F],options:{name:"DropTarget",group:"default"},destroy:function(){var e,t=this.options.group,n=S[t]||T[t];if(n.length>1){for(v.fn.destroy.call(this),e=0;n.length>e;e++)if(n[e]==this){n.splice(e,1);break}}else d.destroyGroup(t)},_trigger:function(e,n){var r=this,i=w[r.options.group];return i?r.trigger(e,x({},n.event,{draggable:i,dropTarget:n.dropTarget})):t},_over:function(e){this._trigger(I,e)},_out:function(e){this._trigger(H,e)},_drop:function(e){var t=this,n=w[t.options.group];n&&(n.dropped=!t._trigger(F,e))}}),d.destroyGroup=function(e){var t,n=S[e]||T[e];if(n){for(t=0;n.length>t;t++)v.fn.destroy.call(n[t]);n.length=0,delete S[e],delete T[e]}},d._cache=S,c=d.extend({init:function(e,t){var n,r=this;v.fn.init.call(r,e,t),n=r.options.group,n in T?T[n].push(r):T[n]=[r]},options:{name:"DropTargetArea",group:"default",filter:null}}),f=v.extend({init:function(e,t){var n=this;v.fn.init.call(n,e,t),n._activated=!1,n.userEvents=new y(n.element,{global:!0,allowSelection:!0,filter:n.options.filter,threshold:n.options.distance,start:b(n._start,n),hold:b(n._hold,n),move:b(n._drag,n),end:b(n._end,n),cancel:b(n._cancel,n),select:b(n._select,n)}),n._afterEndHandler=b(n._afterEnd,n),n._captureEscape=b(n._captureEscape,n)},events:[z,O,E,N,A,P],options:{name:"Draggable",distance:h.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(e){var t=this;e.keyCode===h.keys.ESC&&(t._trigger(A,{event:e}),t.userEvents.cancel())},_updateHint:function(t){var n,r=this,a=r.options,o=r.boundaries,s=a.axis,l=r.options.cursorOffset;l?n={left:t.x.location+l.left,top:t.y.location+l.top}:(r.hintOffset.left+=t.x.delta,r.hintOffset.top+=t.y.delta,n=e.extend({},r.hintOffset)),o&&(n.top=i(n.top,o.y),n.left=i(n.left,o.x)),"x"===s?delete n.top:"y"===s&&delete n.left,r.hint.css(n)},_shouldIgnoreTarget:function(t){var n=this.options.ignore;return n&&e(t).is(n)},_select:function(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault()},_start:function(n){var r,i=this,o=i.options,s=o.container,l=o.hint;return this._shouldIgnoreTarget(n.touch.initialTouch)||o.holdToDrag&&!i._activated?(i.userEvents.cancel(),t):(i.currentTarget=n.target,i.currentTargetOffset=k(i.currentTarget),l&&(i.hint&&i.hint.stop(!0,!0).remove(),i.hint=h.isFunction(l)?e(l.call(i,i.currentTarget)):l,r=k(i.currentTarget),i.hintOffset=r,i.hint.css({position:"absolute",zIndex:2e4,left:r.left,top:r.top}).appendTo(g.body),i.angular("compile",function(){return i.hint.removeAttr("ng-repeat"),{elements:i.hint.get(),scopeFrom:n.target}})),w[o.group]=i,i.dropped=!1,s&&(i.boundaries=a(s,i.hint)),i._trigger(O,n)&&(i.userEvents.cancel(),i._afterEnd()),i.userEvents.capture(),e(g).on(C,i._captureEscape),t)},_hold:function(e){this.currentTarget=e.target,this._trigger(z,e)?this.userEvents.cancel():this._activated=!0},_drag:function(n){var r=this;n.preventDefault(),r._withDropTarget(n,function(r,i){if(!r)return s&&(s._trigger(H,x(n,{dropTarget:e(s.targetElement)})),s=null),t;if(s){if(i===s.targetElement)return;s._trigger(H,x(n,{dropTarget:e(s.targetElement)}))}r._trigger(I,x(n,{dropTarget:e(i)})),s=x(r,{targetElement:i})}),r._trigger(E,x(n,{dropTarget:s})),r.hint&&r._updateHint(n)},_end:function(t){var n=this;n._withDropTarget(t,function(n,r){n&&(n._drop(x({},t,{dropTarget:e(r)})),s=null)}),n._trigger(N,t),n._cancel(t.event)},_cancel:function(){var e=this;e._activated=!1,e.hint&&!e.dropped?setTimeout(function(){e.hint.stop(!0,!0).animate(e.currentTargetOffset,"fast",e._afterEndHandler)},0):e._afterEnd()},_trigger:function(e,t){var n=this;return n.trigger(e,x({},t.event,{x:t.x,y:t.y,currentTarget:n.currentTarget,dropTarget:t.dropTarget}))},_withDropTarget:function(e,t){var r,i,a=this,s=a.options,l=S[s.group],u=T[s.group];(l&&l.length||u&&u.length)&&(r=M(e),a.hint&&n(a.hint[0],r)&&(a.hint.hide(),r=M(e),r||(r=M(e)),a.hint.show()),i=o(r,l,u),i?t(i.target,i.targetElement):t())},destroy:function(){var e=this;v.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy(),e.currentTarget=null},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete w[t.options.group],t.trigger("destroy"),t.trigger(P),e(g).off(C,t._captureEscape)}}),h.ui.plugin(d),h.ui.plugin(c),h.ui.plugin(f),h.TapCapture=q,h.containerBoundaries=a,x(h.ui,{Pane:B,PaneDimensions:j,Movable:u})}(window.kendo.jQuery),function(e,t){function n(e){return function(t){var n=t.children(".k-animation-container");return n.length||(n=t),n.children(e)}}function r(e){return p.template(e,{useWithBlock:!1})}function i(e){return e.find("> div .k-checkbox [type=checkbox]")}function a(e){return function(t,n){n=n.closest($);var r,i=n.parent();return i.parent().is("li")&&(r=i.parent()),this._dataSourceMove(t,i,r,function(t,r){return this._insert(t.data(),r,n.index()+e)})}}function o(t,n){for(var r;t&&"ul"!=t.nodeName.toLowerCase();)r=t,t=t.nextSibling,3==r.nodeType&&(r.nodeValue=e.trim(r.nodeValue)),h.test(r.className)?n.insertBefore(r,n.firstChild):n.appendChild(r)}function s(t){var n=t.children("div"),r=t.children("ul"),i=n.children(".k-icon"),a=t.children(":checkbox"),s=n.children(".k-in");t.hasClass("k-treeview")||(n.length||(n=e("<div />").prependTo(t)),!i.length&&r.length?i=e("<span class='k-icon' />").prependTo(n):r.length&&r.children().length||(i.remove(),r.remove()),a.length&&e("<span class='k-checkbox' />").appendTo(n).append(a),s.length||(s=t.children("a").eq(0).addClass("k-in"),s.length||(s=e("<span class='k-in' />")),s.appendTo(n),n.length&&o(n[0].nextSibling,s[0])))}function l(e){var t=this;t.treeview=e,t.hovered=e.element,t._draggable=new g.Draggable(e.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(t){return e.templates.dragClue({item:e.dataItem(t),treeview:e.options})},cursorOffset:{left:10,top:p.support.mobileOS?-40/p.support.zoomLevel():10},dragstart:k(t.dragstart,t),dragcancel:k(t.dragcancel,t),drag:k(t.drag,t),dragend:k(t.dragend,t),$angular:e.options.$angular})}var u,d,c,f,h,p=window.kendo,g=p.ui,m=p.data,v=e.extend,_=p.template,y=e.isArray,b=g.Widget,x=m.HierarchicalDataSource,k=e.proxy,w=p.keys,S=".kendoTreeView",T="select",M="check",C="navigate",D="expand",O="change",z="error",E="checked",N="indeterminate",A="collapse",P="dragstart",I="drag",H="drop",F="dragend",q="dataBound",R="click",j="visibility",L="undefined",B="k-state-hover",U="k-treeview",W=":visible",$=".k-item",V="string",G="aria-selected",J="aria-disabled",Y={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},Q=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&typeof e.nodeName===V};d=n(".k-group"),c=n(".k-group,.k-content"),f=function(e){return e.children("div").children(".k-icon")},h=/k-sprite/,u=p.ui.DataBoundWidget.extend({init:function(e,t){var n,r,i=this,a=!1,o=t&&!!t.dataSource;y(t)&&(n=!0,t={dataSource:t}),t&&typeof t.loadOnDemand==L&&y(t.dataSource)&&(t.loadOnDemand=!1),b.prototype.init.call(i,e,t),e=i.element,t=i.options,r=e.is("ul")&&e||e.hasClass(U)&&e.children("ul"),a=!o&&r.length,a&&(t.dataSource.list=r),i._animation(),i._accessors(),i._templates(),e.hasClass(U)?(i.wrapper=e,i.root=e.children("ul").eq(0)):(i._wrapper(),r&&(i.root=e,i._group(i.wrapper))),i._tabindex(),i.root.attr("role","tree"),i._dataSource(a),i._attachEvents(),i._dragging(),a?i._syncHtmlAndDataSource():t.autoBind&&(i._progress(!0),i.dataSource.fetch()),t.checkboxes&&t.checkboxes.checkChildren&&i.updateIndeterminate(),i.element[0].id&&(i._ariaId=p.format("{0}_tv_active",i.element[0].id)),p.notify(i)},_attachEvents:function(){var t=this,n=".k-in:not(.k-state-selected,.k-state-disabled)",r="mouseenter";t.wrapper.on(r+S,".k-in.k-state-selected",function(e){e.preventDefault()}).on(r+S,n,function(){e(this).addClass(B)}).on("mouseleave"+S,n,function(){e(this).removeClass(B)}).on(R+S,n,k(t._click,t)).on("dblclick"+S,".k-in:not(.k-state-disabled)",k(t._toggleButtonClick,t)).on(R+S,".k-plus,.k-minus",k(t._toggleButtonClick,t)).on("keydown"+S,k(t._keydown,t)).on("focus"+S,k(t._focus,t)).on("blur"+S,k(t._blur,t)).on("mousedown"+S,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",k(t._mousedown,t)).on("change"+S,".k-checkbox :checkbox",k(t._checkboxChange,t)).on("click"+S,".k-checkbox :checkbox",k(t._checkboxClick,t)).on("click"+S,".k-request-retry",k(t._retryRequest,t)).on("click"+S,function(n){e(n.target).is(":kendoFocusable")||t.focus()})},_checkboxClick:function(t){var n=e(t.target);n.data(N)&&(n.data(N,!1).prop(N,!1).prop(E,!0),this._checkboxChange(t))},_syncHtmlAndDataSource:function(e,t){var n,r,a,o,s,l,u,d;for(e=e||this.root,t=t||this.dataSource,n=t.view(),r=p.attr("uid"),a=p.attr("expanded"),o=this.options.checkboxes,s=e.children("li"),l=0;s.length>l;l++)d=n[l],u=s.eq(l),u.attr("role","treeitem").attr(r,d.uid),d.expanded="true"===u.attr(a),o&&(d.checked=i(u).prop(E)),this._syncHtmlAndDataSource(u.children("ul"),d.children)},_animation:function(){var e=this.options,t=e.animation;t===!1?t={expand:{effects:{}},collapse:{hide:!0,effects:{}}}:t.collapse&&"effects"in t.collapse||(t.collapse=v({reverse:!0},t.expand)),v(t.collapse,{hide:!0}),e.animation=t},_dragging:function(){var e=this.options.dragAndDrop,t=this.dragging;e&&!t?this.dragging=new l(this):!e&&t&&(t.destroy(),this.dragging=null)},_templates:function(){var e=this,t=e.options,n=k(e._fieldAccessor,e);t.template&&typeof t.template==V?t.template=_(t.template):t.template||(t.template=r("# var text = "+n("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),e._checkboxes(),e.templates={wrapperCssClass:function(e,t){var n="k-item",r=t.index;return e.firstLevel&&0===r&&(n+=" k-first"),r==e.length-1&&(n+=" k-last"),n},cssClass:function(e,t){var n="",r=t.index,i=e.length-1;return e.firstLevel&&0===r&&(n+="k-top "),n+=0===r&&r!=i?"k-top":r==i?"k-bot":"k-mid"},textClass:function(e){var t="k-in";return e.enabled===!1&&(t+=" k-state-disabled"),e.selected===!0&&(t+=" k-state-selected"),t},toggleButtonClass:function(e){var t="k-icon";return t+=e.expanded!==!0?" k-plus":" k-minus",e.enabled===!1&&(t+="-disabled"),t},groupAttributes:function(e){var t="";return e.firstLevel||(t="role='group'"),t+(e.expanded!==!0?" style='display:none'":"")},groupCssClass:function(e){var t="k-group";return e.firstLevel&&(t+=" k-treeview-lines"),t},dragClue:r("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />#= data.treeview.template(data) #</div>"),group:r("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) #>#= data.renderItems(data) #</ul>"),itemContent:r("# var imageUrl = "+n("imageUrl")+"(data.item); ## var spriteCssClass = "+n("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:r("# var item = data.item, r = data.r; ## var url = "+n("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation' /># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:r("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+p.attr("uid")+"='#= item.uid #' aria-selected='#= item.selected ? \"true\" : \"false \" #' #=item.enabled === false ? \"aria-disabled='true'\" : ''## if (item.expanded) { #data-expanded='true' aria-expanded='true'# } #>#= r.itemElement(data) #</li>"),loading:r("<div class='k-icon k-loading' /> #: data.messages.loading #"),retry:r("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>")}},items:function(){return this.element.find(".k-item > div:first-child")},setDataSource:function(e){var t=this.options;t.dataSource=e,this._dataSource(),this.dataSource.fetch(),t.checkboxes&&t.checkboxes.checkChildren&&this.updateIndeterminate()},_bindDataSource:function(){this._refreshHandler=k(this.refresh,this),this._errorHandler=k(this._error,this),this.dataSource.bind(O,this._refreshHandler),this.dataSource.bind(z,this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind(O,this._refreshHandler),e.unbind(z,this._errorHandler))},_dataSource:function(e){function t(e){for(var n=0;e.length>n;n++)e[n]._initChildren(),e[n].children.fetch(),t(e[n].children.view())}var n=this,r=n.options,i=r.dataSource;i=y(i)?{data:i}:i,n._unbindDataSource(),i.fields||(i.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),n.dataSource=i=x.create(i),e&&(i.fetch(),t(i.view())),n._bindDataSource()},events:[P,I,H,F,q,D,A,T,O,C,M],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:!1,checkboxes:!1,autoBind:!0,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function(){var e,t,n,r=this,i=r.options,a=r.element;for(e in Y)t=i[Y[e]],n=a.attr(p.attr(e+"-field")),!t&&n&&(t=n),t||(t=e),y(t)||(t=[t]),i[Y[e]]=t},_fieldAccessor:function(t){var n=this.options[Y[t]],r=n.length,i="(function(item) {";return 0===r?i+="return item['"+t+"'];":(i+="var levels = ["+e.map(n,function(e){return"function(d){ return "+p.expr(e)+"}"}).join(",")+"];",i+="return levels[Math.min(item.level(), "+r+"-1)](item)"),i+="})"},setOptions:function(e){b.fn.setOptions.call(this,e),this._animation(),this._dragging(),this._templates()},_trigger:function(e,t){return this.trigger(e,{node:t.closest($)[0]})},_setChecked:function(t,n){if(t&&e.isFunction(t.view))for(var r=0,i=t.view();i.length>r;r++)i[r][E]=n,i[r].children&&this._setChecked(i[r].children,n)},_setIndeterminate:function(e){var t,n,r,a=d(e),o=!0;if(a.length&&(t=i(a.children()),n=t.length)){if(n>1){for(r=1;n>r;r++)if(t[r].checked!=t[r-1].checked||t[r].indeterminate||t[r-1].indeterminate){o=!1;break}}else o=!t[0].indeterminate;return i(e).data(N,!o).prop(N,!o).prop(E,o&&t[0].checked)}},updateIndeterminate:function(e){var t,n,r;if(e=e||this.wrapper,t=d(e).children(),t.length){for(n=0;t.length>n;n++)this.updateIndeterminate(t.eq(n));r=this._setIndeterminate(e),r&&r.prop(E)&&(this.dataItem(e).checked=!0)}},_bubbleIndeterminate:function(e){if(e.length){var t,n=this.parent(e);n.length&&(this._setIndeterminate(n),t=n.children("div").find(".k-checkbox :checkbox"),t.prop(N)===!1?this.dataItem(n).set(E,t.prop(E)):this.dataItem(n).checked=!1,this._bubbleIndeterminate(n))}},_checkboxChange:function(t){var n=e(t.target),r=n.prop(E),i=n.closest($);this.dataItem(i).set(E,r),this._trigger(M,i)},_toggleButtonClick:function(t){this.toggle(e(t.target).closest($))},_mousedown:function(t){var n=e(t.currentTarget).closest($);this._clickTarget=n,this.current(n)},_focusable:function(e){return e&&e.length&&e.is(":visible")&&!e.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var t=this.select(),n=this._clickTarget;p.support.touch||(n&&n.length&&(t=n),this._focusable(t)||(t=this.current()),this._focusable(t)||(t=this._nextVisible(e())),this.current(t))},focus:function(){var e,t=this.wrapper,n=t[0],r=[],i=[],a=document.documentElement;do n=n.parentNode,n.scrollHeight>n.clientHeight&&(r.push(n),i.push(n.scrollTop));while(n!=a);for(t.focus(),e=0;r.length>e;e++)r[e].scrollTop=i[e]},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(e){return!e.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(t){var n,r,i=/\bk-treeview\b/,a=/\bk-item\b/;typeof t==V&&(t=this.element.find(t)),Q(t)||(t=t[0]),r=a.test(t.className);do t=t.parentNode,a.test(t.className)&&(r?n=t:r=!0);while(!i.test(t.className)&&!n);return e(n)},_nextVisible:function(e){function t(e){for(;e.length&&!e.next().length;)e=r.parent(e);return e.next().length?e.next():e}var n,r=this,i=r._expanded(e);return e.length&&e.is(":visible")?i?(n=d(e).children().first(),n.length||(n=t(e))):n=t(e):n=r.root.children().eq(0),r._enabled(n)||(n=r._nextVisible(n)),n},_previousVisible:function(e){var t,n,r=this;if(!e.length||e.prev().length)for(n=e.length?e.prev():r.root.children().last();r._expanded(n)&&(t=d(n).children().last(),t.length);)n=t;
else n=r.parent(e)||e;return r._enabled(n)||(n=r._previousVisible(n)),n},_keydown:function(n){var r,i=this,a=n.keyCode,o=i.current(),s=i._expanded(o),l=o.find(".k-checkbox:first :checkbox"),u=p.support.isRtl(i.element);n.target==n.currentTarget&&(!u&&a==w.RIGHT||u&&a==w.LEFT?s?r=i._nextVisible(o):i.expand(o):!u&&a==w.LEFT||u&&a==w.RIGHT?s?i.collapse(o):(r=i.parent(o),i._enabled(r)||(r=t)):a==w.DOWN?r=i._nextVisible(o):a==w.UP?r=i._previousVisible(o):a==w.HOME?r=i._nextVisible(e()):a==w.END?r=i._previousVisible(e()):a==w.ENTER?o.find(".k-in:first").hasClass("k-state-selected")||i._trigger(T,o)||i.select(o):a==w.SPACEBAR&&l.length&&(l.prop(E,!l.prop(E)).data(N,!1).prop(N,!1),i._checkboxChange({target:l}),r=o),r&&(n.preventDefault(),o[0]!=r[0]&&(i._trigger(C,r),i.current(r))))},_click:function(t){var n,r=this,i=e(t.currentTarget),a=c(i.closest($)),o=i.attr("href");n=o?"#"==o||o.indexOf("#"+this.element.id+"-")>=0:a.length&&!a.children().length,n&&t.preventDefault(),i.hasClass(".k-state-selected")||r._trigger(T,i)||r.select(i)},_wrapper:function(){var e,t,n=this,r=n.element,i="k-widget k-treeview";r.is("ul")?(e=r.wrap("<div />").parent(),t=r):(e=r,t=e.children("ul").eq(0)),n.wrapper=e.addClass(i),n.root=t},_group:function(e){var t=this,n=e.hasClass(U),r={firstLevel:n,expanded:n||t._expanded(e)},i=e.children("ul");i.addClass(t.templates.groupCssClass(r)).css("display",r.expanded?"":"none"),t._nodes(i,r)},_nodes:function(t,n){var r,i=this,a=t.children("li");n=v({length:a.length},n),a.each(function(t,a){a=e(a),r={index:t,expanded:i._expanded(a)},s(a),i._updateNodeClasses(a,n,r),i._group(a)})},_checkboxes:function(){var e,t=this.options,n=t.checkboxes;n&&(e="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #",n.name&&(e+=" name='"+n.name+"'"),e+=" />",n=v({template:e},t.checkboxes),typeof n.template==V&&(n.template=_(n.template)),t.checkboxes=n)},_updateNodeClasses:function(e,t,n){var r=e.children("div"),i=e.children("ul"),a=this.templates;e.hasClass("k-treeview")||(n=n||{},n.expanded=typeof n.expanded!=L?n.expanded:this._expanded(e),n.index=typeof n.index!=L?n.index:e.index(),n.enabled=typeof n.enabled!=L?n.enabled:!r.children(".k-in").hasClass("k-state-disabled"),t=t||{},t.firstLevel=typeof t.firstLevel!=L?t.firstLevel:e.parent().parent().hasClass(U),t.length=typeof t.length!=L?t.length:e.parent().children().length,e.removeClass("k-first k-last").addClass(a.wrapperCssClass(t,n)),r.removeClass("k-top k-mid k-bot").addClass(a.cssClass(t,n)),r.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(a.textClass(n)),(i.length||"true"==e.attr("data-hasChildren"))&&(r.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(a.toggleButtonClass(n)),i.addClass("k-group")))},_processNodes:function(t,n){var r=this;r.element.find(t).each(function(t,i){n.call(r,t,e(i).closest($))})},dataItem:function(t){var n=e(t).closest($).attr(p.attr("uid")),r=this.dataSource;return r&&r.getByUid(n)},_insertNode:function(t,n,r,i,a){var o,l,u,c,f=this,h=d(r),p=h.children().length+1,g={firstLevel:r.hasClass(U),expanded:!a,length:p},m="",v=function(e,t){e.appendTo(t)};for(u=0;t.length>u;u++)c=t[u],c.index=n+u,m+=f._renderItem({group:g,item:c});if(l=e(m),l.length){for(f.angular("compile",function(){return{elements:l.get(),data:t.map(function(e){return{dataItem:e}})}}),h.length||(h=e(f._renderGroup({group:g})).appendTo(r)),i(l,h),r.hasClass("k-item")&&(s(r),f._updateNodeClasses(r)),f._updateNodeClasses(l.prev().first()),f._updateNodeClasses(l.next().last()),u=0;t.length>u;u++)c=t[u],c.hasChildren&&(o=c.children.data(),o.length&&f._insertNode(o,c.index,l.eq(u),v,!f._expanded(l.eq(u))));return l}},_updateNodes:function(e,t){function n(e,t){e.find(".k-checkbox :checkbox").prop(E,t).data(N,!1).prop(N,!1)}var r,i,a,o,s,l=this,u={treeview:l.options,item:a};if("selected"==t)a=e[0],i=l.findByUid(a.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",a[t]).end(),a[t]&&l.current(i),i.attr(G,!!a[t]);else for(r=0;e.length>r;r++)u.item=a=e[r],l.findByUid(a.uid).find(">div>.k-in").html(l.templates.itemContent(u)),t==E?(i=l.findByUid(a.uid),o=a[t],n(i.children("div"),o),l.options.checkboxes.checkChildren&&(n(i.children(".k-group"),o),l._setChecked(a.children,o),l._bubbleIndeterminate(i))):"expanded"==t?l._toggle(l.findByUid(a.uid),a,a[t]):"enabled"==t&&(i=l.findByUid(a.uid),i.find(".k-checkbox :checkbox").prop("disabled",!a[t]),s=!c(i).is(W),i.removeAttr(J),a[t]||(a.selected&&a.set("selected",!1),a.expanded&&a.set("expanded",!1),s=!0,i.attr(G,!1).attr(J,!0)),l._updateNodeClasses(i,{},{enabled:a[t],expanded:!s}))},_appendItems:function(e,t,n){var r=d(n),i=r.children(),a=!this._expanded(n);typeof e==L&&(e=i.length),this._insertNode(t,e,n,function(t,n){e>=i.length?t.appendTo(n):t.insertBefore(i.eq(e))},a),this._expanded(n)&&(this._updateNodeClasses(n),d(n).css("display","block"))},refresh:function(n){var r,i,a,o,l,u,c=this.wrapper,f=n.node,h=n.action,p=n.items,m=this.options,v=m.loadOnDemand,_=m.checkboxes&&m.checkboxes.checkChildren;if(n.field){if(!p[0]||!p[0].level)return;return this._updateNodes(p,n.field)}if(f&&(c=this.findByUid(f.uid),this._progress(c,!1)),_&&"remove"!=h){for(i=!1,r=0;p.length>r;r++)if("checked"in p[r]){i=!0;break}if(!i&&f&&f.checked)for(r=0;p.length>r;r++)p[r].checked=!0}if("add"==h)this._appendItems(n.index,p,c);else if("remove"==h)this._remove(this.findByUid(p[0].uid),!1);else if("itemchange"==h)this._updateNodes(p);else if(f)if(d(c).empty(),p.length)for(this._appendItems(n.index,p,c),a=d(c).children(),v&&_&&this._bubbleIndeterminate(a.last()),r=0;a.length>r;r++)o=a.eq(r),this.trigger("itemChange",{item:o,data:this.dataItem(o),ns:g});else s(c),this.trigger("itemChange",{item:c,data:f,ns:g});else l=this._renderGroup({items:p,group:{firstLevel:!0,expanded:!0}}),this.root.length?(this._angularItems("cleanup"),u=e(l),this.root.attr("class",u.attr("class")).html(u.html())):this.root=this.wrapper.html(l).children("ul"),this.root.attr("role","tree"),this._angularItems("compile");for(r=0;p.length>r;r++)(!v||p[r].expanded)&&p[r].load();this.trigger(q,{node:f?c:t})},_error:function(e){var t=e.node&&this.findByUid(e.node.uid),n=this.templates.retry({messages:this.options.messages});t?(this._progress(t,!1),this._expanded(t,!1),f(t).addClass("k-i-refresh"),e.node.loaded(!1)):(this._progress(!1),this.element.html(n))},_retryRequest:function(e){e.preventDefault(),this.dataSource.fetch()},expand:function(e){this._processNodes(e,function(e,t){this.toggle(t,!0)})},collapse:function(e){this._processNodes(e,function(e,t){this.toggle(t,!1)})},enable:function(e,t){t=2==arguments.length?!!t:!0,this._processNodes(e,function(e,n){this.dataItem(n).set("enabled",t)})},current:function(n){var r=this,i=r._current,a=r.element,o=r._ariaId;return arguments.length>0&&n&&n.length?(i&&(i[0].id===o&&i.removeAttr("id"),i.find(".k-in:first").removeClass("k-state-focused")),i=r._current=e(n,a).closest($),i.find(".k-in:first").addClass("k-state-focused"),o=i[0].id||o,o&&(r.wrapper.removeAttr("aria-activedescendant"),i.attr("id",o),r.wrapper.attr("aria-activedescendant",o)),t):(i||(i=r._nextVisible(e())),i)},select:function(n){var r=this,i=r.element;return arguments.length?(n=e(n,i).closest($),i.find(".k-state-selected").each(function(){var e=r.dataItem(this);e.set("selected",!1),delete e.selected}),n.length&&r.dataItem(n).set("selected",!0),r.trigger(O),t):i.find(".k-state-selected").closest($)},_toggle:function(e,t,n){var r,i,a=this.options,o=c(e),s=n?"expand":"collapse";if(!o.data("animating")&&!this._trigger(s,e))if(this._expanded(e,n),r=t&&t.loaded(),i=!o.children().length,!n||r&&!i){if(this._updateNodeClasses(e,{},{expanded:n}),o.css("display")==(n?"block":"none"))return;n||o.css("height",o.height()).css("height"),o.kendoStop(!0,!0).kendoAnimate(v({reset:!0},a.animation[s],{complete:function(){n&&o.css("height","")}}))}else a.loadOnDemand&&this._progress(e,!0),o.remove(),t.load()},toggle:function(t,n){t=e(t),f(t).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")&&(1==arguments.length&&(n=!this._expanded(t)),this._expanded(t,n))},destroy:function(){var e=this;b.fn.destroy.call(e),e.wrapper.off(S),e._unbindDataSource(),e.dragging&&e.dragging.destroy(),p.destroy(e.element),e.root=e.wrapper=e.element=null},_expanded:function(e,n){var r=p.attr("expanded"),i=this.dataItem(e);return 1==arguments.length?"true"===e.attr(r)||i&&i.expanded:(c(e).data("animating")||(i&&(i.set("expanded",n),n=i.expanded),n?(e.attr(r,"true"),e.attr("aria-expanded","true")):(e.removeAttr(r),e.attr("aria-expanded","false"))),t)},_progress:function(e,t){var n=this.element,r=this.templates.loading({messages:this.options.messages});1==arguments.length?(t=e,t?n.html(r):n.empty()):f(e).toggleClass("k-loading",t).removeClass("k-i-refresh")},text:function(e,n){var r=this.dataItem(e),i=this.options[Y.text],a=r.level(),o=i.length,s=i[Math.min(a,o-1)];return n?(r.set(s,n),t):r[s]},_objectOrSelf:function(t){return e(t).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(t,n,r,i){var a,o=this._objectOrSelf(r||n),s=o.dataSource,l=e.Deferred().resolve().promise();return r&&r[0]!=o.element[0]&&(a=o.dataItem(r),a.loaded()||(o._progress(r,!0),l=a.load()),r!=this.root&&(s=a.children,s&&s instanceof x||(a._initChildren(),a.loaded(!0),s=a.children))),t=this._toObservableData(t),i.call(this,s,t,l)},_toObservableData:function(t){var n,r,i=t;return(t instanceof window.jQuery||Q(t))&&(n=this._objectOrSelf(t).dataSource,r=e(t).attr(p.attr("uid")),i=n.getByUid(r),i&&(i=n.remove(i))),i},_insert:function(e,t,n){t instanceof p.data.ObservableArray?t=t.toJSON():y(t)||(t=[t]);var r=e.parent();return r&&r._initChildren&&(r.hasChildren=!0,r._initChildren()),e.splice.apply(e,[n,0].concat(t)),this.findByUid(e[n].uid)},insertAfter:a(1),insertBefore:a(0),append:function(t,n,r){var i=this,a=i.root;return n&&(a=d(n)),i._dataSourceMove(t,a,n,function(t,a,o){function s(){n&&i._expanded(n,!0);var e=t.data(),r=Math.max(e.length,0);return i._insert(e,a,r)}var l;return o.then(function(){l=s(),(r=r||e.noop)(l)}),l||null})},_remove:function(t,n){var r,i,a,o=this;return t=e(t,o.element),this.angular("cleanup",function(){return{elements:t.get()}}),r=t.parent().parent(),i=t.prev(),a=t.next(),t[n?"detach":"remove"](),r.hasClass("k-item")&&(s(r),o._updateNodeClasses(r)),o._updateNodeClasses(i),o._updateNodeClasses(a),t},remove:function(e){var t=this.dataItem(e);t&&this.dataSource.remove(t)},detach:function(e){return this._remove(e,!0)},findByText:function(t){return e(this.element).find(".k-in").filter(function(n,r){return e(r).text()==t}).closest($)},findByUid:function(e){return this.element.find(".k-item["+p.attr("uid")+"="+e+"]")},expandPath:function(n,r){var i,a,o;for(n=n.slice(0),i=this,a=this.dataSource,o=a.get(n[0]),r=r||e.noop;n.length>0&&(o.expanded||o.loaded());)o.set("expanded",!0),n.shift(),o=a.get(n[0]);return n.length?(a.bind("change",function(e){var t,o=e.node&&e.node.id;o&&o===n[0]&&(n.shift(),n.length?(t=a.get(n[0]),t&&!t.loaded()?t.set("expanded",!0):r.call(i)):r.call(i))}),o.set("expanded",!0),t):r.call(i)},_parents:function(e){for(var t=e&&e.parentNode(),n=[];t;)n.push(t),t=t.parentNode();return n},expandTo:function(e){var t,n;for(e instanceof p.data.Node||(e=this.dataSource.get(e)),t=this._parents(e),n=0;t.length>n;n++)t[n].set("expanded",!0)},_renderItem:function(e){return e.group||(e.group={}),e.treeview=this.options,e.r=this.templates,this.templates.item(e)},_renderGroup:function(e){var t=this;return e.renderItems=function(e){var n="",r=0,i=e.items,a=i?i.length:0,o=e.group;for(o.length=a;a>r;r++)e.group=o,e.item=i[r],e.item.index=r,n+=t._renderItem(e);return n},e.r=t.templates,t.templates.group(e)}}),l.prototype={_removeTouchHover:function(){var e=this;p.support.touch&&e.hovered&&(e.hovered.find("."+B).removeClass(B),e.hovered=!1)},_hintStatus:function(n){var r=this._draggable.hint.find(".k-drag-status")[0];return n?(r.className="k-icon k-drag-status "+n,t):e.trim(r.className.replace(/k-(icon|drag-status)/g,""))},dragstart:function(t){var n=this,r=n.treeview,i=n.sourceNode=t.currentTarget.closest($);r.trigger(P,{sourceNode:i[0]})&&t.preventDefault(),n.dropHint=e("<div class='k-drop-hint' />").css(j,"hidden").appendTo(r.element)},drag:function(t){var n,r,i,a,o,s,l,u,d,c,f=this,h=f.treeview,g=f.sourceNode,m=f.dropTarget=e(p.eventTarget(t)),v=m.closest(".k-treeview");v.length?e.contains(g[0],m[0])?n="k-denied":(n="k-insert-middle",r=m.closest(".k-top,.k-mid,.k-bot"),r.length?(a=r.outerHeight(),o=p.getOffset(r).top,s=m.closest(".k-in"),l=a/(s.length>0?4:2),u=o+l>t.y.location,d=t.y.location>o+a-l,f._removeTouchHover(),c=s.length&&!u&&!d,f.hovered=c?v:!1,f.dropHint.css(j,c?"hidden":"visible"),s.toggleClass(B,c),c?n="k-add":(i=r.position(),i.top+=u?0:a,f.dropHint.css(i)[u?"prependTo":"appendTo"](m.closest($).children("div:first")),u&&r.hasClass("k-top")&&(n="k-insert-top"),d&&r.hasClass("k-bot")&&(n="k-insert-bottom"))):m[0]!=f.dropHint[0]&&(n=v[0]!=h.element[0]?"k-add":"k-denied")):(n="k-denied",f._removeTouchHover()),h.trigger(I,{sourceNode:g[0],dropTarget:m[0],pageY:t.y.location,pageX:t.x.location,statusClass:n.substring(2),setStatusClass:function(e){n=e}}),0!==n.indexOf("k-insert")&&f.dropHint.css(j,"hidden"),f._hintStatus(n)},dragcancel:function(){this.dropHint.remove()},dragend:function(){function e(e){o.updateIndeterminate(),o.trigger(F,{sourceNode:e&&e[0],destinationNode:n[0],dropPosition:s})}var n,r,i,a=this,o=a.treeview,s="over",l=a.sourceNode,u=a.dropHint,d=a.dropTarget;return"visible"==u.css(j)?(s=u.prevAll(".k-in").length>0?"after":"before",n=u.closest($)):d&&(n=d.closest(".k-treeview .k-item"),n.length||(n=d.closest(".k-treeview"))),r={sourceNode:l[0],destinationNode:n[0],valid:"k-denied"!=a._hintStatus(),setValid:function(e){this.valid=e},dropTarget:d[0],dropPosition:s},i=o.trigger(H,r),u.remove(),a._removeTouchHover(),!r.valid||i?(a._draggable.dropped=r.valid,t):(a._draggable.dropped=!0,"over"==s?o.append(l,n,e):("before"==s?l=o.insertBefore(l,n):"after"==s&&(l=o.insertAfter(l,n)),e(l)),t)},destroy:function(){this._draggable.destroy()}},g.plugin(u)}(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(_,f){f()});